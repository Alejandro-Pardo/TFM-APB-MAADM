{
  "method_name": "get_schema_analysis_rule",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/cleanrooms/client/get_schema_analysis_rule.html",
  "description": "Retrieves a schema analysis rule.",
  "parameters": [
    {
      "name": "collaborationIdentifier",
      "type": "string",
      "required": true,
      "description": "A unique identifier for the collaboration that the schema belongs to. Currently accepts a collaboration ID.",
      "nested_params": []
    },
    {
      "name": "name",
      "type": "string",
      "required": true,
      "description": "The name of the schema to retrieve the analysis rule for.",
      "nested_params": []
    },
    {
      "name": "type",
      "type": "string",
      "required": true,
      "description": "The type of the schema analysis rule to retrieve. Schema analysis rules are uniquely identified by a combination of the collaboration, the schema name, and their type.",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "analysisRule",
          "type": "dict",
          "description": "A specification about how data from the configured table can be used.",
          "nested_items": [
            {
              "name": "collaborationId",
              "type": "string",
              "description": "The unique ID for the associated collaboration.",
              "nested_items": []
            },
            {
              "name": "type",
              "type": "string",
              "description": "The type of analysis rule.",
              "nested_items": []
            },
            {
              "name": "name",
              "type": "string",
              "description": "The name for the analysis rule.",
              "nested_items": []
            },
            {
              "name": "createTime",
              "type": "datetime",
              "description": "The time the analysis rule was created.",
              "nested_items": []
            },
            {
              "name": "updateTime",
              "type": "datetime",
              "description": "The time the analysis rule was last updated.",
              "nested_items": []
            },
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "joinColumns",
                          "type": "list",
                          "description": "Columns that can be used to join a configured table with the table of the member who can query and other members' configured tables.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedJoinOperators",
                          "type": "list",
                          "description": "The logical operators (if any) that are to be used in an INNER JOIN match condition. Default is AND.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "listColumns",
                          "type": "list",
                          "description": "Columns that can be listed in the output.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "additionalAnalyses",
                          "type": "string",
                          "description": "An indicator as to whether additional analyses (such as Clean Rooms ML) can be applied to the output of the direct query.",
                          "nested_items": []
                        }
                      ]
                    },
                    {
                      "name": "aggregation",
                      "type": "dict",
                      "description": "Analysis rule type that enables only aggregation queries on a configured table.",
                      "nested_items": [
                        {
                          "name": "aggregateColumns",
                          "type": "list",
                          "description": "The columns that query runners are allowed to use in aggregation queries.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "dict",
                              "description": "",
                              "nested_items": [
                                {
                                  "name": "columnNames",
                                  "type": "list",
                                  "description": "Column names in configured table of aggregate columns.",
                                  "nested_items": [
                                    {
                                      "name": "",
                                      "type": "string",
                                      "description": "(string) ---",
                                      "nested_items": []
                                    }
                                  ]
                                },
                                {
                                  "name": "function",
                                  "type": "string",
                                  "description": "Aggregation function that can be applied to aggregate column in query.",
                                  "nested_items": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "joinColumns",
                          "type": "list",
                          "description": "Columns in configured table that can be used in join statements and/or as aggregate columns. They can never be outputted directly.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "joinRequired",
                          "type": "string",
                          "description": "Control that requires member who runs query to do a join with their configured table and/or other configured table in query.",
                          "nested_items": []
                        },
                        {
                          "name": "allowedJoinOperators",
                          "type": "list",
                          "description": "Which logical operators (if any) are to be used in an INNER JOIN match condition. Default is AND.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "dimensionColumns",
                          "type": "list",
                          "description": "The columns that query runners are allowed to select, group by, or filter by.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "scalarFunctions",
                          "type": "list",
                          "description": "Set of scalar functions that are allowed to be used on dimension columns and the output of aggregation of metrics.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "outputConstraints",
                          "type": "list",
                          "description": "Columns that must meet a specific threshold value (after an aggregation function is applied to it) for each output row to be returned.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "dict",
                              "description": "",
                              "nested_items": [
                                {
                                  "name": "columnName",
                                  "type": "string",
                                  "description": "Column in aggregation constraint for which there must be a minimum number of distinct values in an output row for it to be in the query output.",
                                  "nested_items": []
                                },
                                {
                                  "name": "minimum",
                                  "type": "integer",
                                  "description": "The minimum number of distinct values that an output row must be an aggregation of. Minimum threshold of distinct values for a specified column that must exist in an output row for it to be in the query output.",
                                  "nested_items": []
                                },
                                {
                                  "name": "type",
                                  "type": "string",
                                  "description": "The type of aggregation the constraint allows. The only valid value is currently COUNT_DISTINCT.",
                                  "nested_items": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "additionalAnalyses",
                          "type": "string",
                          "description": "An indicator as to whether additional analyses (such as Clean Rooms ML) can be applied to the output of the direct query.",
                          "nested_items": []
                        }
                      ]
                    },
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "allowedAnalyses",
                          "type": "list",
                          "description": "The ARN of the analysis templates that are allowed by the custom analysis rule.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedAnalysisProviders",
                          "type": "list",
                          "description": "The IDs of the Amazon Web Services accounts that are allowed to query by the custom analysis rule. Required when allowedAnalyses is ANY_QUERY.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "additionalAnalyses",
                          "type": "string",
                          "description": "An indicator as to whether additional analyses (such as Clean Rooms ML) can be applied to the output of the direct query.",
                          "nested_items": []
                        },
                        {
                          "name": "disallowedOutputColumns",
                          "type": "list",
                          "description": "A list of columns that aren't allowed to be shown in the query output.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "differentialPrivacy",
                          "type": "dict",
                          "description": "The differential privacy configuration.",
                          "nested_items": [
                            {
                              "name": "columns",
                              "type": "list",
                              "description": "The name of the column (such as user_id) that contains the unique identifier of your users whose privacy you want to protect. If you want to turn on di\u00ef\u00ac-erential privacy for two or more tables in a collaboration, you must con\u00ef\u00ac\u0081gure the same column as the user identi\u00ef\u00ac\u0081er column in both analysis rules.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "name",
                                      "type": "string",
                                      "description": "The name of the column, such as user_id, that contains the unique identifier of your users, whose privacy you want to protect. If you want to turn on differential privacy for two or more tables in a collaboration, you must configure the same column as the user identifier column in both analysis rules.",
                                      "nested_items": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "idMappingTable",
                      "type": "dict",
                      "description": "The ID mapping table.",
                      "nested_items": [
                        {
                          "name": "joinColumns",
                          "type": "list",
                          "description": "The columns that query runners are allowed to use in an INNER JOIN statement.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "queryConstraints",
                          "type": "list",
                          "description": "The query constraints of the analysis rule ID mapping table.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "dict",
                              "description": "",
                              "nested_items": [
                                {
                                  "name": "requireOverlap",
                                  "type": "dict",
                                  "description": "An array of column names that specifies which columns are required in the JOIN statement.",
                                  "nested_items": [
                                    {
                                      "name": "columns",
                                      "type": "list",
                                      "description": "The columns that are required to overlap.",
                                      "nested_items": [
                                        {
                                          "name": "",
                                          "type": "string",
                                          "description": "(string) ---",
                                          "nested_items": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "dimensionColumns",
                          "type": "list",
                          "description": "The columns that query runners are allowed to select, group by, or filter by.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "collaborationPolicy",
              "type": "dict",
              "description": "Controls on the query specifications that can be run on an associated configured table.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "allowedResultReceivers",
                          "type": "list",
                          "description": "The list of collaboration members who are allowed to receive results of queries run with this configured table.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedAdditionalAnalyses",
                          "type": "list",
                          "description": "The list of resources or wildcards (ARNs) that are allowed to perform additional analysis on query output.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "aggregation",
                      "type": "dict",
                      "description": "Analysis rule type that enables only aggregation queries on a configured table.",
                      "nested_items": [
                        {
                          "name": "allowedResultReceivers",
                          "type": "list",
                          "description": "The list of collaboration members who are allowed to receive results of queries run with this configured table.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedAdditionalAnalyses",
                          "type": "list",
                          "description": "The list of resources or wildcards (ARNs) that are allowed to perform additional analysis on query output.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "allowedResultReceivers",
                          "type": "list",
                          "description": "The list of collaboration members who are allowed to receive results of queries run with this configured table.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedAdditionalAnalyses",
                          "type": "list",
                          "description": "The list of resources or wildcards (ARNs) that are allowed to perform additional analysis on query output.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "consolidatedPolicy",
              "type": "dict",
              "description": "The consolidated policy for the analysis rule.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "joinColumns",
                          "type": "list",
                          "description": "The columns to join on.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedJoinOperators",
                          "type": "list",
                          "description": "The allowed join operators in the consolidated policy list.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "listColumns",
                          "type": "list",
                          "description": "The columns in the consolidated policy list.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "additionalAnalyses",
                          "type": "string",
                          "description": "Additional analyses for the consolidated policy list.",
                          "nested_items": []
                        },
                        {
                          "name": "allowedResultReceivers",
                          "type": "list",
                          "description": "The allowed result receivers.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedAdditionalAnalyses",
                          "type": "list",
                          "description": "The additional analyses allowed by the consolidated policy list.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "aggregation",
                      "type": "dict",
                      "description": "The aggregation setting for the consolidated policy.",
                      "nested_items": [
                        {
                          "name": "aggregateColumns",
                          "type": "list",
                          "description": "Aggregate columns in consolidated policy aggregation.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "dict",
                              "description": "",
                              "nested_items": [
                                {
                                  "name": "columnNames",
                                  "type": "list",
                                  "description": "Column names in configured table of aggregate columns.",
                                  "nested_items": [
                                    {
                                      "name": "",
                                      "type": "string",
                                      "description": "(string) ---",
                                      "nested_items": []
                                    }
                                  ]
                                },
                                {
                                  "name": "function",
                                  "type": "string",
                                  "description": "Aggregation function that can be applied to aggregate column in query.",
                                  "nested_items": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "joinColumns",
                          "type": "list",
                          "description": "The columns to join on.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "joinRequired",
                          "type": "string",
                          "description": "Join required.",
                          "nested_items": []
                        },
                        {
                          "name": "allowedJoinOperators",
                          "type": "list",
                          "description": "The allowed join operators.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "dimensionColumns",
                          "type": "list",
                          "description": "The dimension columns of the consolidated policy aggregation.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "scalarFunctions",
                          "type": "list",
                          "description": "The scalar functions.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "outputConstraints",
                          "type": "list",
                          "description": "The output constraints of the consolidated policy aggregation.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "dict",
                              "description": "",
                              "nested_items": [
                                {
                                  "name": "columnName",
                                  "type": "string",
                                  "description": "Column in aggregation constraint for which there must be a minimum number of distinct values in an output row for it to be in the query output.",
                                  "nested_items": []
                                },
                                {
                                  "name": "minimum",
                                  "type": "integer",
                                  "description": "The minimum number of distinct values that an output row must be an aggregation of. Minimum threshold of distinct values for a specified column that must exist in an output row for it to be in the query output.",
                                  "nested_items": []
                                },
                                {
                                  "name": "type",
                                  "type": "string",
                                  "description": "The type of aggregation the constraint allows. The only valid value is currently COUNT_DISTINCT.",
                                  "nested_items": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "additionalAnalyses",
                          "type": "string",
                          "description": "Additional analyses for the consolidated policy aggregation.",
                          "nested_items": []
                        },
                        {
                          "name": "allowedResultReceivers",
                          "type": "list",
                          "description": "The allowed result receivers.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedAdditionalAnalyses",
                          "type": "list",
                          "description": "The additional analyses allowed by the consolidated policy aggregation.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "allowedAnalyses",
                          "type": "list",
                          "description": "The allowed analyses.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedAnalysisProviders",
                          "type": "list",
                          "description": "The allowed analysis providers.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "additionalAnalyses",
                          "type": "string",
                          "description": "Additional analyses for the consolidated policy.",
                          "nested_items": []
                        },
                        {
                          "name": "disallowedOutputColumns",
                          "type": "list",
                          "description": "Disallowed output columns.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "differentialPrivacy",
                          "type": "dict",
                          "description": "Specifies the unique identifier for your users.",
                          "nested_items": [
                            {
                              "name": "columns",
                              "type": "list",
                              "description": "The name of the column (such as user_id) that contains the unique identifier of your users whose privacy you want to protect. If you want to turn on di\u00ef\u00ac-erential privacy for two or more tables in a collaboration, you must con\u00ef\u00ac\u0081gure the same column as the user identi\u00ef\u00ac\u0081er column in both analysis rules.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "name",
                                      "type": "string",
                                      "description": "The name of the column, such as user_id, that contains the unique identifier of your users, whose privacy you want to protect. If you want to turn on differential privacy for two or more tables in a collaboration, you must configure the same column as the user identifier column in both analysis rules.",
                                      "nested_items": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "allowedResultReceivers",
                          "type": "list",
                          "description": "The allowed result receivers.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "allowedAdditionalAnalyses",
                          "type": "list",
                          "description": "The additional analyses allowed by the consolidated policy.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "string",
                              "description": "(string) ---",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
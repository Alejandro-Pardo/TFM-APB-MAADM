{
  "method_name": "update_rate_based_rule",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/waf-regional/client/update_rate_based_rule.html",
  "description": "Inserts or deletes  Predicate objects in a rule and updates the RateLimit in the rule. Each Predicate object identifies a predicate, such as a  ByteMatchSet or an  IPSet, that specifies the web requests that you want to block or count. The RateLimit specifies the number of requests every five minutes that triggers the rule. If you add more than one predicate to a RateBasedRule, a request must match all the predicates and exceed the RateLimit to be counted or blocked. For example, suppose you add the following to a RateBasedRule: Further, you specify a RateLimit of 1,000. You then add the RateBasedRule to a WebACL and specify that you want to block requests that satisfy the rule. For a request to be blocked, it must come from the IP address 192.0.2.44 and the User-Agent header in the request must contain the value BadBot. Further, requests that match these two conditions much be received at a rate of more than 1,000 every five minutes. If the rate drops below this limit, AWS WAF no longer blocks the requests. As a second example, suppose you want to limit requests to a particular page on your site. To do this, you could add the following to a RateBasedRule: Further, you specify a RateLimit of 1,000. By adding this RateBasedRule to a WebACL, you could limit requests to your login page without affecting the rest of your site.",
  "parameters": [
    {
      "name": "RuleId",
      "type": "string",
      "required": true,
      "description": "The RuleId of the RateBasedRule that you want to update. RuleId is returned by CreateRateBasedRule and by  ListRateBasedRules.",
      "nested_params": []
    },
    {
      "name": "ChangeToken",
      "type": "string",
      "required": true,
      "description": "The value returned by the most recent call to  GetChangeToken.",
      "nested_params": []
    },
    {
      "name": "Updates",
      "type": "list",
      "required": true,
      "description": "An array of RuleUpdate objects that you want to insert into or delete from a  RateBasedRule. (dict) --- Specifies a Predicate (such as an IPSet) and indicates whether you want to add it to a Rule or delete it from a Rule. Specify INSERT to add a Predicate to a Rule. Use DELETE to remove a Predicate from a Rule. The ID of the Predicate (such as an IPSet) that you want to add to a Rule. Set Negated to False if you want AWS WAF to allow, block, or count requests based on the settings in the specified  ByteMatchSet,  IPSet,  SqlInjectionMatchSet,  XssMatchSet,  RegexMatchSet,  GeoMatchSet, or  SizeConstraintSet. For example, if an IPSet includes the IP address 192.0.2.44, AWS WAF will allow or block requests based on that IP address. Set Negated to True if you want AWS WAF to allow or block a request based on the negation of the settings in the  ByteMatchSet,  IPSet,  SqlInjectionMatchSet,  XssMatchSet,  RegexMatchSet,  GeoMatchSet, or  SizeConstraintSet. For example, if an IPSet includes the IP address 192.0.2.44, AWS WAF will allow, block, or count requests based on all IP addresses except 192.0.2.44. The type of predicate in a Rule, such as ByteMatch or IPSet. A unique identifier for a predicate in a Rule, such as ByteMatchSetId or IPSetId. The ID is returned by the corresponding Create or List command.",
      "nested_params": [
        {
          "name": "Action",
          "type": "string",
          "required": false,
          "description": "Specify INSERT to add a Predicate to a Rule. Use DELETE to remove a Predicate from a Rule.",
          "nested_params": []
        },
        {
          "name": "Predicate",
          "type": "dict",
          "required": false,
          "description": "The ID of the Predicate (such as an IPSet) that you want to add to a Rule.",
          "nested_params": [
            {
              "name": "Negated",
              "type": "boolean",
              "required": false,
              "description": "Set Negated to False if you want AWS WAF to allow, block, or count requests based on the settings in the specified  ByteMatchSet,  IPSet,  SqlInjectionMatchSet,  XssMatchSet,  RegexMatchSet,  GeoMatchSet, or  SizeConstraintSet. For example, if an IPSet includes the IP address 192.0.2.44, AWS WAF will allow or block requests based on that IP address. Set Negated to True if you want AWS WAF to allow or block a request based on the negation of the settings in the  ByteMatchSet,  IPSet,  SqlInjectionMatchSet,  XssMatchSet,  RegexMatchSet,  GeoMatchSet, or  SizeConstraintSet. For example, if an IPSet includes the IP address 192.0.2.44, AWS WAF will allow, block, or count requests based on all IP addresses except 192.0.2.44.",
              "nested_params": []
            },
            {
              "name": "Type",
              "type": "string",
              "required": false,
              "description": "The type of predicate in a Rule, such as ByteMatch or IPSet.",
              "nested_params": []
            },
            {
              "name": "DataId",
              "type": "string",
              "required": false,
              "description": "A unique identifier for a predicate in a Rule, such as ByteMatchSetId or IPSetId. The ID is returned by the corresponding Create or List command.",
              "nested_params": []
            }
          ]
        }
      ]
    },
    {
      "name": "RateLimit",
      "type": "integer",
      "required": true,
      "description": "The maximum number of requests, which have an identical value in the field specified by the RateKey, allowed in a five-minute period. If the number of requests exceeds the RateLimit and the other predicates specified in the rule are also met, AWS WAF triggers the action that is specified for this rule.",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "ChangeToken",
          "type": "string",
          "description": "The ChangeToken that you used to submit the UpdateRateBasedRule request. You can also use this value to query the status of the request. For more information, see  GetChangeTokenStatus.",
          "nested_items": []
        }
      ]
    }
  ]
}
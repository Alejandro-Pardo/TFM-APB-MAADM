{
  "method_name": "get_current_metric_data",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/connect/client/get_current_metric_data.html",
  "description": "Gets the real-time metric data from the specified Amazon Connect instance. For a description of each metric, see Metrics definitions in the Amazon Connect Administrator Guide.",
  "parameters": [
    {
      "name": "InstanceId",
      "type": "string",
      "required": true,
      "description": "The identifier of the Amazon Connect instance. You can find the instance ID in the Amazon Resource Name (ARN) of the instance.",
      "nested_params": []
    },
    {
      "name": "Filters",
      "type": "dict",
      "required": true,
      "description": "The filters to apply to returned metrics. You can filter up to the following limits: Queues: 100 Routing profiles: 100 Channels: 3 (VOICE, CHAT, and TASK channels are supported.) RoutingStepExpressions: 50 Metric data is retrieved only for the resources associated with the queues or routing profiles, and by any channels included in the filter. (You cannot filter by both queue AND routing profile.) You can include both resource IDs and resource ARNs in the same request. When using the RoutingStepExpression filter, you need to pass exactly one QueueId. The filter is also case sensitive so when using the RoutingStepExpression filter, grouping by ROUTING_STEP_EXPRESSION is required. Currently tagging is only supported on the resources that are passed in the filter. Queues (list) --- The queues to use to filter the metrics. You should specify at least one queue, and can specify up to 100 queues per request. The GetCurrentMetricsData API in particular requires a queue when you include a Filter in your request. (string) --- Channels (list) --- The channel to use to filter the metrics. (string) --- RoutingProfiles (list) --- A list of up to 100 routing profile IDs or ARNs. (string) --- RoutingStepExpressions (list) --- A list of expressions as a filter, in which an expression is an object of a step in a routing criteria. (string) ---",
      "nested_params": []
    },
    {
      "name": "Groupings",
      "type": "list",
      "required": false,
      "description": "The grouping applied to the metrics returned. For example, when grouped by QUEUE, the metrics returned apply to each queue rather than aggregated for all queues. If you group by CHANNEL, you should include a Channels filter. VOICE, CHAT, and TASK channels are supported. If you group by ROUTING_PROFILE, you must include either a queue or routing profile filter. In addition, a routing profile filter is required for metrics CONTACTS_SCHEDULED, CONTACTS_IN_QUEUE, and OLDEST_CONTACT_AGE. If no Grouping is included in the request, a summary of metrics is returned. When using the RoutingStepExpression filter, group by ROUTING_STEP_EXPRESSION is required. (string) ---",
      "nested_params": []
    },
    {
      "name": "CurrentMetrics",
      "type": "list",
      "required": true,
      "description": "The metrics to retrieve. Specify the name and unit for each metric. The following metrics are available. For a description of all the metrics, see Metrics definitions in the Amazon Connect Administrator Guide. AGENTS_AFTER_CONTACT_WORK Unit: COUNT Name in real-time metrics report: ACW AGENTS_AVAILABLE Unit: COUNT Name in real-time metrics report: Available AGENTS_ERROR Unit: COUNT Name in real-time metrics report: Error AGENTS_NON_PRODUCTIVE Unit: COUNT Name in real-time metrics report: NPT (Non-Productive Time) AGENTS_ON_CALL Unit: COUNT Name in real-time metrics report: On contact AGENTS_ON_CONTACT Unit: COUNT Name in real-time metrics report: On contact AGENTS_ONLINE Unit: COUNT Name in real-time metrics report: Online AGENTS_STAFFED Unit: COUNT Name in real-time metrics report: Staffed CONTACTS_IN_QUEUE Unit: COUNT Name in real-time metrics report: In queue CONTACTS_SCHEDULED Unit: COUNT Name in real-time metrics report: Scheduled OLDEST_CONTACT_AGE Unit: SECONDS When you use groupings, Unit says SECONDS and the Value is returned in SECONDS. When you do not use groupings, Unit says SECONDS but the Value is returned in MILLISECONDS. For example, if you get a response like this: ``{ 'Metric': { 'Name': 'OLDEST_CONTACT_AGE', 'Unit': 'SECONDS' }, 'Value': 24113.0 ``} The actual OLDEST_CONTACT_AGE is 24 seconds. When the filter RoutingStepExpression is used, this metric is still calculated from enqueue time. For example, if a contact that has been queued under <Expression 1> for 10 seconds has expired and <Expression 2> becomes active, then OLDEST_CONTACT_AGE for this queue will be counted starting from 10, not 0. Name in real-time metrics report: Oldest SLOTS_ACTIVE Unit: COUNT Name in real-time metrics report: Active SLOTS_AVAILABLE Unit: COUNT Name in real-time metrics report: Availability (dict) --- Contains information about a real-time metric. For a description of each metric, see Metrics definitions in the Amazon Connect Administrator Guide. Name (string) --- The name of the metric. Unit (string) --- The unit for the metric.",
      "nested_params": [
        {
          "name": "Name",
          "type": "string",
          "required": false,
          "description": "The name of the metric.",
          "nested_params": []
        },
        {
          "name": "Unit",
          "type": "string",
          "required": false,
          "description": "The unit for the metric.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "NextToken",
      "type": "string",
      "required": false,
      "description": "The token for the next set of results. Use the value returned in the previous response in the next request to retrieve the next set of results. The token expires after 5 minutes from the time it is created. Subsequent requests that use the token must use the same request parameters as the request that generated the token.",
      "nested_params": []
    },
    {
      "name": "MaxResults",
      "type": "integer",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "SortCriteria",
      "type": "list",
      "required": false,
      "description": "The way to sort the resulting response based on metrics. You can enter one sort criteria. By default resources are sorted based on AGENTS_ONLINE, DESCENDING. The metric collection is sorted based on the input metrics. Note the following: Sorting on SLOTS_ACTIVE and SLOTS_AVAILABLE is not supported. (dict) --- The way to sort the resulting response based on metrics. SortByMetric (string) --- The current metric names. SortOrder (string) --- The way to sort.",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "NextToken",
          "type": "string",
          "description": "If there are additional results, this is the token for the next set of results.",
          "nested_items": []
        },
        {
          "name": "MetricResults",
          "type": "list",
          "description": "Information about the real-time metrics.",
          "nested_items": [
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "Dimensions",
                  "type": "dict",
                  "description": "The dimensions for the metrics.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "Id",
                          "type": "string",
                          "description": "The identifier of the queue.",
                          "nested_items": []
                        },
                        {
                          "name": "Arn",
                          "type": "string",
                          "description": "The Amazon Resource Name (ARN) of the queue.",
                          "nested_items": []
                        }
                      ]
                    },
                    {
                      "name": "Channel",
                      "type": "string",
                      "description": "The channel used for grouping and filters.",
                      "nested_items": []
                    },
                    {
                      "name": "RoutingProfile",
                      "type": "dict",
                      "description": "Information about the routing profile assigned to the user.",
                      "nested_items": [
                        {
                          "name": "Id",
                          "type": "string",
                          "description": "The identifier of the routing profile.",
                          "nested_items": []
                        },
                        {
                          "name": "Arn",
                          "type": "string",
                          "description": "The Amazon Resource Name (ARN) of the routing profile.",
                          "nested_items": []
                        }
                      ]
                    },
                    {
                      "name": "RoutingStepExpression",
                      "type": "string",
                      "description": "The expression of a step in a routing criteria.",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "Collections",
                  "type": "list",
                  "description": "The set of metrics.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "Name",
                              "type": "string",
                              "description": "The name of the metric.",
                              "nested_items": []
                            },
                            {
                              "name": "Unit",
                              "type": "string",
                              "description": "The unit for the metric.",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "Value",
                          "type": "float",
                          "description": "The value of the metric.",
                          "nested_items": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "DataSnapshotTime",
          "type": "datetime",
          "description": "The time at which the metrics were retrieved and cached for pagination.",
          "nested_items": []
        },
        {
          "name": "ApproximateTotalCount",
          "type": "integer",
          "description": "The total count of the result, regardless of the current page size.",
          "nested_items": []
        }
      ]
    }
  ]
}
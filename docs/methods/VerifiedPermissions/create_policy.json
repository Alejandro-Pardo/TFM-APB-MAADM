{
  "method_name": "create_policy",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/verifiedpermissions/client/create_policy.html",
  "description": "Creates a Cedar policy and saves it in the specified policy store. You can create either a static policy or a policy linked to a policy template.",
  "parameters": [
    {
      "name": "clientToken",
      "type": "string",
      "required": false,
      "description": "Specifies a unique, case-sensitive ID that you provide to ensure the idempotency of the request. This lets you safely retry the request without accidentally performing the same operation a second time. Passing the same value to a later call to an operation requires that you also pass the same value for all other parameters. We recommend that you use a UUID type of value.. If you don't provide this value, then Amazon Web Services generates a random one for you. If you retry the operation with the same ClientToken, but with different parameters, the retry fails with an ConflictException error. Verified Permissions recognizes a ClientToken for eight hours. After eight hours, the next request with the same parameters performs the operation again regardless of the value of ClientToken. This field is autopopulated if not provided.",
      "nested_params": []
    },
    {
      "name": "policyStoreId",
      "type": "string",
      "required": true,
      "description": "Specifies the PolicyStoreId of the policy store you want to store the policy in.",
      "nested_params": []
    },
    {
      "name": "definition",
      "type": "dict",
      "required": true,
      "description": "A structure that specifies the policy type and content to use for the new policy. You must include either a static or a templateLinked element. The policy content must be written in the Cedar policy language. static (dict) --- A structure that describes a static policy. An static policy doesn't use a template or allow placeholders for entities. description (string) --- The description of the static policy. The policy content of the static policy, written in the Cedar policy language. templateLinked (dict) --- A structure that describes a policy that was instantiated from a template. The template can specify placeholders for principal and resource. When you use CreatePolicy to create a policy from a template, you specify the exact principal and resource to use for the instantiated policy. The unique identifier of the policy template used to create this policy. principal (dict) --- The principal associated with this template-linked policy. Verified Permissions substitutes this principal for the ?principal placeholder in the policy template when it evaluates an authorization request. The type of an entity. Example: \"entityType\":\"typeName\" The identifier of an entity. \"entityId\":\"identifier\" resource (dict) --- The resource associated with this template-linked policy. Verified Permissions substitutes this resource for the ?resource placeholder in the policy template when it evaluates an authorization request. \"entityId\":\"identifier\"",
      "nested_params": [
        {
          "name": "static",
          "type": "dict",
          "required": false,
          "description": "A structure that describes a static policy. An static policy doesn't use a template or allow placeholders for entities.",
          "nested_params": [
            {
              "name": "description",
              "type": "string",
              "required": false,
              "description": "The description of the static policy.",
              "nested_params": []
            },
            {
              "name": "statement",
              "type": "string",
              "required": false,
              "description": "The policy content of the static policy, written in the Cedar policy language.",
              "nested_params": []
            }
          ]
        },
        {
          "name": "templateLinked",
          "type": "dict",
          "required": false,
          "description": "A structure that describes a policy that was instantiated from a template. The template can specify placeholders for principal and resource. When you use CreatePolicy to create a policy from a template, you specify the exact principal and resource to use for the instantiated policy.",
          "nested_params": [
            {
              "name": "policyTemplateId",
              "type": "string",
              "required": false,
              "description": "The unique identifier of the policy template used to create this policy.",
              "nested_params": []
            },
            {
              "name": "principal",
              "type": "dict",
              "required": false,
              "description": "The principal associated with this template-linked policy. Verified Permissions substitutes this principal for the ?principal placeholder in the policy template when it evaluates an authorization request.",
              "nested_params": [
                {
                  "name": "entityType",
                  "type": "string",
                  "required": false,
                  "description": "The type of an entity. Example: \"entityType\":\"typeName\"",
                  "nested_params": []
                },
                {
                  "name": "entityId",
                  "type": "string",
                  "required": false,
                  "description": "The identifier of an entity. \"entityId\":\"identifier\"",
                  "nested_params": []
                }
              ]
            },
            {
              "name": "resource",
              "type": "dict",
              "required": false,
              "description": "The resource associated with this template-linked policy. Verified Permissions substitutes this resource for the ?resource placeholder in the policy template when it evaluates an authorization request.",
              "nested_params": [
                {
                  "name": "entityType",
                  "type": "string",
                  "required": false,
                  "description": "The type of an entity. Example: \"entityType\":\"typeName\"",
                  "nested_params": []
                },
                {
                  "name": "entityId",
                  "type": "string",
                  "required": false,
                  "description": "The identifier of an entity. \"entityId\":\"identifier\"",
                  "nested_params": []
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "policyStoreId",
          "type": "string",
          "description": "The ID of the policy store that contains the new policy.",
          "nested_items": []
        },
        {
          "name": "policyId",
          "type": "string",
          "description": "The unique ID of the new policy.",
          "nested_items": []
        },
        {
          "name": "policyType",
          "type": "string",
          "description": "The policy type of the new policy.",
          "nested_items": []
        },
        {
          "name": "principal",
          "type": "dict",
          "description": "The principal specified in the new policy's scope. This response element isn't present when principal isn't specified in the policy content.",
          "nested_items": [
            {
              "name": "entityType",
              "type": "string",
              "description": "The type of an entity.",
              "nested_items": []
            },
            {
              "name": "entityId",
              "type": "string",
              "description": "The identifier of an entity.",
              "nested_items": []
            }
          ]
        },
        {
          "name": "",
          "type": "dict",
          "description": "",
          "nested_items": [
            {
              "name": "entityType",
              "type": "string",
              "description": "The type of an entity.",
              "nested_items": []
            },
            {
              "name": "entityId",
              "type": "string",
              "description": "The identifier of an entity.",
              "nested_items": []
            }
          ]
        },
        {
          "name": "actions",
          "type": "list",
          "description": "The action that a policy permits or forbids. For example, {\"actions\": [{\"actionId\": \"ViewPhoto\", \"actionType\": \"PhotoFlash::Action\"}, {\"entityID\": \"SharePhoto\", \"entityType\": \"PhotoFlash::Action\"}]}.",
          "nested_items": [
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "actionType",
                  "type": "string",
                  "description": "The type of an action.",
                  "nested_items": []
                },
                {
                  "name": "actionId",
                  "type": "string",
                  "description": "The ID of an action.",
                  "nested_items": []
                }
              ]
            }
          ]
        },
        {
          "name": "createdDate",
          "type": "datetime",
          "description": "The date and time the policy was originally created.",
          "nested_items": []
        },
        {
          "name": "lastUpdatedDate",
          "type": "datetime",
          "description": "The date and time the policy was last updated.",
          "nested_items": []
        },
        {
          "name": "effect",
          "type": "string",
          "description": "The effect of the decision that a policy returns to an authorization request. For example, \"effect\": \"Permit\".",
          "nested_items": []
        }
      ]
    }
  ]
}
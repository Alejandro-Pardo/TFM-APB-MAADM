{
  "method_name": "describe_affected_entities_for_organization",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/health/client/describe_affected_entities_for_organization.html",
  "description": "Returns a list of entities that have been affected by one or more events for one or more accounts in your organization in Organizations, based on the filter criteria. Entities can refer to individual customer resources, groups of customer resources, or any other construct, depending on the Amazon Web Services service. At least one event Amazon Resource Name (ARN) and account ID are required. Before you can call this operation, you must first enable Health to work with Organizations. To do this, call the EnableHealthServiceAccessForOrganization operation from your organization's management account.",
  "parameters": [
    {
      "name": "organizationEntityFilters",
      "type": "list",
      "required": true,
      "description": "A JSON set of elements including the awsAccountId and the eventArn. (dict) --- The values used to filter results from the DescribeEventDetailsForOrganization and DescribeAffectedEntitiesForOrganization operations. The unique identifier for the event. The event ARN has the arn:aws:health:event-region::event/SERVICE/EVENT_TYPE_CODE/EVENT_TYPE_PLUS_ID format. For example, an event ARN might look like the following: arn:aws:health:us-east-1::event/EC2/EC2_INSTANCE_RETIREMENT_SCHEDULED/EC2_INSTANCE_RETIREMENT_SCHEDULED_ABC123-DEF456 awsAccountId (string) --- The 12-digit Amazon Web Services account numbers that contains the affected entities.",
      "nested_params": [
        {
          "name": "eventArn",
          "type": "string",
          "required": false,
          "description": "The unique identifier for the event. The event ARN has the arn:aws:health:event-region::event/SERVICE/EVENT_TYPE_CODE/EVENT_TYPE_PLUS_ID format. For example, an event ARN might look like the following: arn:aws:health:us-east-1::event/EC2/EC2_INSTANCE_RETIREMENT_SCHEDULED/EC2_INSTANCE_RETIREMENT_SCHEDULED_ABC123-DEF456",
          "nested_params": []
        },
        {
          "name": "awsAccountId",
          "type": "string",
          "required": false,
          "description": "The 12-digit Amazon Web Services account numbers that contains the affected entities.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "locale",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "nextToken",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "maxResults",
      "type": "integer",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "organizationEntityAccountFilters",
      "type": "list",
      "required": true,
      "description": "A JSON set of elements including the awsAccountId, eventArn and a set of statusCodes. (dict) --- A JSON set of elements including the awsAccountId, eventArn and a set of statusCodes. The unique identifier for the event. The event ARN has the arn:aws:health:event-region::event/SERVICE/EVENT_TYPE_CODE/EVENT_TYPE_PLUS_ID format. For example, an event ARN might look like the following: arn:aws:health:us-east-1::event/EC2/EC2_INSTANCE_RETIREMENT_SCHEDULED/EC2_INSTANCE_RETIREMENT_SCHEDULED_ABC123-DEF456 awsAccountId (string) --- The 12-digit Amazon Web Services account numbers that contains the affected entities. statusCodes (list) --- A list of entity status codes. (string) ---",
      "nested_params": [
        {
          "name": "eventArn",
          "type": "string",
          "required": false,
          "description": "The unique identifier for the event. The event ARN has the arn:aws:health:event-region::event/SERVICE/EVENT_TYPE_CODE/EVENT_TYPE_PLUS_ID format. For example, an event ARN might look like the following: arn:aws:health:us-east-1::event/EC2/EC2_INSTANCE_RETIREMENT_SCHEDULED/EC2_INSTANCE_RETIREMENT_SCHEDULED_ABC123-DEF456",
          "nested_params": []
        },
        {
          "name": "awsAccountId",
          "type": "string",
          "required": false,
          "description": "The 12-digit Amazon Web Services account numbers that contains the affected entities.",
          "nested_params": []
        },
        {
          "name": "statusCodes",
          "type": "list",
          "required": false,
          "description": "A list of entity status codes.",
          "nested_params": []
        }
      ]
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "entities",
          "type": "list",
          "description": "A JSON set of elements including the awsAccountId and its entityArn, entityValue and its entityArn, lastUpdatedTime, and statusCode.",
          "nested_items": [
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "entityArn",
                  "type": "string",
                  "description": "The unique identifier for the entity. Format: arn:aws:health:entity-region:aws-account:entity/entity-id ``. Example: ``arn:aws:health:us-east-1:111222333444:entity/AVh5GGT7ul1arKr1sE1K.",
                  "nested_items": []
                },
                {
                  "name": "eventArn",
                  "type": "string",
                  "description": "The unique identifier for the event. The event ARN has the arn:aws:health:event-region::event/SERVICE/EVENT_TYPE_CODE/EVENT_TYPE_PLUS_ID format.",
                  "nested_items": []
                },
                {
                  "name": "entityValue",
                  "type": "string",
                  "description": "The ID of the affected entity.",
                  "nested_items": []
                },
                {
                  "name": "entityUrl",
                  "type": "string",
                  "description": "The URL of the affected entity.",
                  "nested_items": []
                },
                {
                  "name": "awsAccountId",
                  "type": "string",
                  "description": "The 12-digit Amazon Web Services account number that contains the affected entity.",
                  "nested_items": []
                },
                {
                  "name": "lastUpdatedTime",
                  "type": "datetime",
                  "description": "The most recent time that the entity was updated.",
                  "nested_items": []
                },
                {
                  "name": "statusCode",
                  "type": "string",
                  "description": "The most recent status of the entity affected by the event. The possible values are IMPAIRED, UNIMPAIRED, and UNKNOWN.",
                  "nested_items": []
                },
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "string",
                      "description": "(string) ---",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "string",
                          "description": "(string) ---",
                          "nested_items": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "entityMetadata",
                  "type": "dict",
                  "description": "Additional metadata about the affected entity.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "string",
                      "description": "(string) ---",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "string",
                          "description": "(string) ---",
                          "nested_items": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "failedSet",
          "type": "list",
          "description": "A JSON set of elements of the failed response, including the awsAccountId, errorMessage, errorName, and eventArn.",
          "nested_items": [
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "awsAccountId",
                  "type": "string",
                  "description": "The 12-digit Amazon Web Services account numbers that contains the affected entities.",
                  "nested_items": []
                },
                {
                  "name": "eventArn",
                  "type": "string",
                  "description": "The unique identifier for the event. The event ARN has the arn:aws:health:event-region::event/SERVICE/EVENT_TYPE_CODE/EVENT_TYPE_PLUS_ID format.",
                  "nested_items": []
                },
                {
                  "name": "errorName",
                  "type": "string",
                  "description": "The name of the error.",
                  "nested_items": []
                },
                {
                  "name": "errorMessage",
                  "type": "string",
                  "description": "A message that describes the error. Follow the error message and retry your request.",
                  "nested_items": []
                }
              ]
            }
          ]
        },
        {
          "name": "nextToken",
          "type": "string",
          "description": "If the results of a search are large, only a portion of the results are returned, and a nextToken pagination token is returned in the response. To retrieve the next batch of results, reissue the search request and include the returned token. When all results have been returned, the response does not contain a pagination token value.",
          "nested_items": []
        }
      ]
    }
  ]
}
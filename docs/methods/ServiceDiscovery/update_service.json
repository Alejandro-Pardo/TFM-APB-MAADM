{
  "method_name": "update_service",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/servicediscovery/client/update_service.html",
  "description": "Submits a request to perform the following operations: For public and private DNS namespaces, note the following: When you update settings for a service, Cloud Map also updates the corresponding settings in all the records and health checks that were created by using the specified service.",
  "parameters": [
    {
      "name": "Id",
      "type": "string",
      "required": true,
      "description": "The ID of the service that you want to update.",
      "nested_params": []
    },
    {
      "name": "Service",
      "type": "dict",
      "required": true,
      "description": "A complex type that contains the new settings for the service. You can specify a maximum of 30 attributes (key-value pairs). Description (string) --- A description for the service. DnsConfig (dict) --- Information about the Route 53 DNS records that you want Cloud Map to create when you register an instance. An array that contains one DnsRecord object for each Route 53 record that you want Cloud Map to create when you register an instance. (dict) --- A complex type that contains information about the Route 53 DNS records that you want Cloud Map to create when you register an instance. The type of the resource, which indicates the type of value that Route 53 returns in response to DNS queries. You can specify values for Type in the following combinations: A AAAA A and AAAA SRV CNAME If you want Cloud Map to create a Route 53 alias record when you register an instance, specify A or AAAA for Type. You specify other settings, such as the IP address for A and AAAA records, when you register an instance. For more information, see RegisterInstance. The following values are supported: A Route 53 returns the IP address of the resource in IPv4 format, such as 192.0.2.44. AAAA Route 53 returns the IP address of the resource in IPv6 format, such as 2001:0db8:85a3:0000:0000:abcd:0001:2345. CNAME Route 53 returns the domain name of the resource, such as www.example.com. Note the following: You specify the domain name that you want to route traffic to when you register an instance. For more information, see Attributes in the topic RegisterInstance. You must specify WEIGHTED for the value of RoutingPolicy. You can't specify both CNAME for Type and settings for HealthCheckConfig. If you do, the request will fail with an InvalidInput error. SRV Route 53 returns the value for an SRV record. The value for an SRV record uses the following values: priority weight port service-hostname Note the following about the values: The values of priority and weight are both set to 1 and can't be changed. The value of port comes from the value that you specify for the AWS_INSTANCE_PORT attribute when you submit a RegisterInstance request. The value of service-hostname is a concatenation of the following values: The value that you specify for InstanceId when you register an instance. The name of the service. The name of the namespace. For example, if the value of InstanceId is test, the name of the service is backend, and the name of the namespace is example.com, the value of service-hostname is the following: test.backend.example.com If you specify settings for an SRV record, note the following: If you specify values for AWS_INSTANCE_IPV4, AWS_INSTANCE_IPV6, or both in the RegisterInstance request, Cloud Map automatically creates A and/or AAAA records that have the same name as the value of service-hostname in the SRV record. You can ignore these records. If you're using a system that requires a specific SRV format, such as HAProxy, see the Name element in the documentation about CreateService for information about how to specify the correct name format. The amount of time, in seconds, that you want DNS resolvers to cache the settings for this record. HealthCheckConfig (dict) --- Public DNS and HTTP namespaces only. Settings for an optional health check. If you specify settings for a health check, Cloud Map associates the health check with the records that you specify in DnsConfig. The type of health check that you want to create, which indicates how Route 53 determines whether an endpoint is healthy. You can create the following types of health checks: HTTP: Route 53 tries to establish a TCP connection. If successful, Route 53 submits an HTTP request and waits for an HTTP status code of 200 or greater and less than 400. HTTPS: Route 53 tries to establish a TCP connection. If successful, Route 53 submits an HTTPS request and waits for an HTTP status code of 200 or greater and less than 400. TCP: Route 53 tries to establish a TCP connection. If you specify TCP for Type, don't specify a value for ResourcePath. For more information, see How Route 53 Determines Whether an Endpoint Is Healthy in the Route 53 Developer Guide. ResourcePath (string) --- The path that you want Route 53 to request when performing health checks. The path can be any value that your endpoint returns an HTTP status code of a 2xx or 3xx format for when the endpoint is healthy. An example file is /docs/route53-health-check.html. Route 53 automatically adds the DNS name for the service. If you don't specify a value for ResourcePath, the default value is /. If you specify TCP for Type, you must not specify a value for ResourcePath. FailureThreshold (integer) --- The number of consecutive health checks that an endpoint must pass or fail for Route 53 to change the current status of the endpoint from unhealthy to healthy or the other way around. For more information, see How Route 53 Determines Whether an Endpoint Is Healthy in the Route 53 Developer Guide.",
      "nested_params": [
        {
          "name": "Description",
          "type": "string",
          "required": false,
          "description": "A description for the service.",
          "nested_params": []
        },
        {
          "name": "DnsConfig",
          "type": "dict",
          "required": false,
          "description": "Information about the Route 53 DNS records that you want Cloud Map to create when you register an instance.",
          "nested_params": [
            {
              "name": "DnsRecords",
              "type": "list",
              "required": false,
              "description": "An array that contains one DnsRecord object for each Route 53 record that you want Cloud Map to create when you register an instance.",
              "nested_params": [
                {
                  "name": "Type",
                  "type": "string",
                  "required": false,
                  "description": "The type of the resource, which indicates the type of value that Route 53 returns in response to DNS queries. You can specify values for Type in the following combinations:",
                  "nested_params": []
                },
                {
                  "name": "TTL",
                  "type": "integer",
                  "required": false,
                  "description": "The amount of time, in seconds, that you want DNS resolvers to cache the settings for this record.",
                  "nested_params": []
                }
              ]
            }
          ]
        },
        {
          "name": "HealthCheckConfig",
          "type": "dict",
          "required": false,
          "description": "Public DNS and HTTP namespaces only. Settings for an optional health check. If you specify settings for a health check, Cloud Map associates the health check with the records that you specify in DnsConfig.",
          "nested_params": [
            {
              "name": "Type",
              "type": "string",
              "required": false,
              "description": "The type of health check that you want to create, which indicates how Route 53 determines whether an endpoint is healthy. You can create the following types of health checks:",
              "nested_params": [
                {
                  "name": "HTTP",
                  "type": "",
                  "required": false,
                  "description": "",
                  "nested_params": []
                },
                {
                  "name": "HTTPS",
                  "type": "",
                  "required": false,
                  "description": "",
                  "nested_params": []
                }
              ]
            },
            {
              "name": "ResourcePath",
              "type": "string",
              "required": false,
              "description": "The path that you want Route 53 to request when performing health checks. The path can be any value that your endpoint returns an HTTP status code of a 2xx or 3xx format for when the endpoint is healthy. An example file is /docs/route53-health-check.html. Route 53 automatically adds the DNS name for the service. If you don't specify a value for ResourcePath, the default value is /. If you specify TCP for Type, you must not specify a value for ResourcePath.",
              "nested_params": []
            },
            {
              "name": "FailureThreshold",
              "type": "integer",
              "required": false,
              "description": "The number of consecutive health checks that an endpoint must pass or fail for Route 53 to change the current status of the endpoint from unhealthy to healthy or the other way around. For more information, see How Route 53 Determines Whether an Endpoint Is Healthy in the Route 53 Developer Guide.",
              "nested_params": []
            }
          ]
        }
      ]
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "OperationId",
          "type": "string",
          "description": "A value that you can use to determine whether the request completed successfully. To get the status of the operation, see GetOperation.",
          "nested_items": []
        }
      ]
    }
  ]
}
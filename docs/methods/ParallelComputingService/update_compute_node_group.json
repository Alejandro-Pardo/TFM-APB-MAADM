{
  "method_name": "update_compute_node_group",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/pcs/client/update_compute_node_group.html",
  "description": "Updates a compute node group. You can update many of the fields related to your compute node group including the configurations for networking, compute nodes, and settings specific to your scheduler (such as Slurm).",
  "parameters": [
    {
      "name": "clusterIdentifier",
      "type": "string",
      "required": true,
      "description": "The name or ID of the cluster of the compute node group.",
      "nested_params": []
    },
    {
      "name": "computeNodeGroupIdentifier",
      "type": "string",
      "required": true,
      "description": "The name or ID of the compute node group.",
      "nested_params": []
    },
    {
      "name": "amiId",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "subnetIds",
      "type": "list",
      "required": false,
      "description": "The list of subnet IDs where the compute node group provisions instances. The subnets must be in the same VPC as the cluster. (string) ---",
      "nested_params": []
    },
    {
      "name": "customLaunchTemplate",
      "type": "dict",
      "required": true,
      "description": "An Amazon EC2 launch template Amazon Web Services PCS uses to launch compute nodes. The ID of the EC2 launch template to use to provision instances. Example: lt-xxxx The version of the EC2 launch template to use to provision instances.",
      "nested_params": [
        {
          "name": "id",
          "type": "string",
          "required": false,
          "description": "The ID of the EC2 launch template to use to provision instances. Example: lt-xxxx.",
          "nested_params": []
        },
        {
          "name": "version",
          "type": "string",
          "required": false,
          "description": "The version of the EC2 launch template to use to provision instances.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "purchaseOption",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "spotOptions",
      "type": "dict",
      "required": false,
      "description": "Additional configuration when you specify SPOT as the purchaseOption for the CreateComputeNodeGroup API action. allocationStrategy (string) --- The Amazon EC2 allocation strategy Amazon Web Services PCS uses to provision EC2 instances. Amazon Web Services PCS supports lowest price, capacity optimized, and price capacity optimized. For more information, see Use allocation strategies to determine how EC2 Fleet or Spot Fleet fulfills Spot and On-Demand capacity in the Amazon Elastic Compute Cloud User Guide. If you don't provide this option, it defaults to price capacity optimized.",
      "nested_params": [
        {
          "name": "allocationStrategy",
          "type": "string",
          "required": false,
          "description": "",
          "nested_params": []
        }
      ]
    },
    {
      "name": "scalingConfiguration",
      "type": "dict",
      "required": true,
      "description": "Specifies the boundaries of the compute node group auto scaling. The lower bound of the number of instances allowed in the compute fleet. The upper bound of the number of instances allowed in the compute fleet.",
      "nested_params": [
        {
          "name": "minInstanceCount",
          "type": "integer",
          "required": false,
          "description": "The lower bound of the number of instances allowed in the compute fleet.",
          "nested_params": []
        },
        {
          "name": "maxInstanceCount",
          "type": "integer",
          "required": false,
          "description": "The upper bound of the number of instances allowed in the compute fleet.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "iamInstanceProfileArn",
      "type": "string",
      "required": false,
      "description": "The Amazon Resource Name (ARN) of the IAM instance profile used to pass an IAM role when launching EC2 instances. The role contained in your instance profile must have the pcs:RegisterComputeNodeGroupInstance permission. The resource identifier of the ARN must start with AWSPCS or it must have /aws-pcs/ in its path. arn:aws:iam::111122223333:instance-profile/AWSPCS-example-role-1 arn:aws:iam::111122223333:instance-profile/aws-pcs/example-role-2",
      "nested_params": []
    },
    {
      "name": "slurmConfiguration",
      "type": "dict",
      "required": true,
      "description": "Additional options related to the Slurm scheduler. slurmCustomSettings (list) --- Additional Slurm-specific configuration that directly maps to Slurm settings. (dict) --- Additional settings that directly map to Slurm settings. Amazon Web Services PCS supports configuration of the following Slurm parameters: For clusters Prolog Epilog SelectTypeParameters For compute node groups Weight RealMemory The values for the configured Slurm settings.",
      "nested_params": [
        {
          "name": "slurmCustomSettings",
          "type": "list",
          "required": false,
          "description": "Additional Slurm-specific configuration that directly maps to Slurm settings.",
          "nested_params": [
            {
              "name": "parameterName",
              "type": "string",
              "required": false,
              "description": "Amazon Web Services PCS supports configuration of the following Slurm parameters:",
              "nested_params": [
                {
                  "name": "clusters",
                  "type": "",
                  "required": false,
                  "description": "Prolog Epilog SelectTypeParameters.",
                  "nested_params": []
                },
                {
                  "name": "compute node groups",
                  "type": "",
                  "required": false,
                  "description": "Weight RealMemory.",
                  "nested_params": []
                }
              ]
            },
            {
              "name": "parameterValue",
              "type": "string",
              "required": false,
              "description": "The values for the configured Slurm settings.",
              "nested_params": []
            }
          ]
        }
      ]
    },
    {
      "name": "clientToken",
      "type": "string",
      "required": false,
      "description": "A unique, case-sensitive identifier that you provide to ensure the idempotency of the request. Idempotency ensures that an API request completes only once. With an idempotent request, if the original request completes successfully, the subsequent retries with the same client token return the result from the original successful request and they have no additional effect. If you don't specify a client token, the CLI and SDK automatically generate 1 for you. This field is autopopulated if not provided.",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "computeNodeGroup",
          "type": "dict",
          "description": "A compute node group associated with a cluster.",
          "nested_items": [
            {
              "name": "name",
              "type": "string",
              "description": "The name that identifies the compute node group.",
              "nested_items": []
            },
            {
              "name": "id",
              "type": "string",
              "description": "The generated unique ID of the compute node group.",
              "nested_items": []
            },
            {
              "name": "arn",
              "type": "string",
              "description": "The unique Amazon Resource Name (ARN) of the compute node group.",
              "nested_items": []
            },
            {
              "name": "clusterId",
              "type": "string",
              "description": "The ID of the cluster of the compute node group.",
              "nested_items": []
            },
            {
              "name": "createdAt",
              "type": "datetime",
              "description": "The date and time the resource was created.",
              "nested_items": []
            },
            {
              "name": "modifiedAt",
              "type": "datetime",
              "description": "The date and time the resource was modified.",
              "nested_items": []
            },
            {
              "name": "status",
              "type": "string",
              "description": "The provisioning status of the compute node group.",
              "nested_items": []
            },
            {
              "name": "amiId",
              "type": "string",
              "description": "The ID of the Amazon Machine Image (AMI) that Amazon Web Services PCS uses to launch instances. If not provided, Amazon Web Services PCS uses the AMI ID specified in the custom launch template.",
              "nested_items": []
            },
            {
              "name": "subnetIds",
              "type": "list",
              "description": "The list of subnet IDs where instances are provisioned by the compute node group. The subnets must be in the same VPC as the cluster.",
              "nested_items": [
                {
                  "name": "",
                  "type": "string",
                  "description": "(string) ---",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "purchaseOption",
              "type": "string",
              "description": "Specifies how EC2 instances are purchased on your behalf. Amazon Web Services PCS supports On-Demand and Spot instances. For more information, see Instance purchasing options in the Amazon Elastic Compute Cloud User Guide. If you don't provide this option, it defaults to On-Demand.",
              "nested_items": []
            },
            {
              "name": "customLaunchTemplate",
              "type": "dict",
              "description": "An Amazon EC2 launch template Amazon Web Services PCS uses to launch compute nodes.",
              "nested_items": [
                {
                  "name": "id",
                  "type": "string",
                  "description": "The ID of the EC2 launch template to use to provision instances.",
                  "nested_items": []
                },
                {
                  "name": "version",
                  "type": "string",
                  "description": "The version of the EC2 launch template to use to provision instances.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "iamInstanceProfileArn",
              "type": "string",
              "description": "The Amazon Resource Name (ARN) of the IAM instance profile used to pass an IAM role when launching EC2 instances. The role contained in your instance profile must have the pcs:RegisterComputeNodeGroupInstance permission. The resource identifier of the ARN must start with AWSPCS or it must have /aws-pcs/ in its path.",
              "nested_items": [
                {
                  "name": "",
                  "type": "",
                  "description": "arn:aws:iam::111122223333:instance-profile/AWSPCS-example-role-1",
                  "nested_items": []
                },
                {
                  "name": "",
                  "type": "",
                  "description": "arn:aws:iam::111122223333:instance-profile/aws-pcs/example-role-2",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "scalingConfiguration",
              "type": "dict",
              "description": "Specifies the boundaries of the compute node group auto scaling.",
              "nested_items": [
                {
                  "name": "minInstanceCount",
                  "type": "integer",
                  "description": "The lower bound of the number of instances allowed in the compute fleet.",
                  "nested_items": []
                },
                {
                  "name": "maxInstanceCount",
                  "type": "integer",
                  "description": "The upper bound of the number of instances allowed in the compute fleet.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "instanceConfigs",
              "type": "list",
              "description": "A list of EC2 instance configurations that Amazon Web Services PCS can provision in the compute node group.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "instanceType",
                      "type": "string",
                      "description": "The EC2 instance type that Amazon Web Services PCS can provision in the compute node group.",
                      "nested_items": []
                    }
                  ]
                }
              ]
            },
            {
              "name": "spotOptions",
              "type": "dict",
              "description": "Additional configuration when you specify SPOT as the purchaseOption for the CreateComputeNodeGroup API action.",
              "nested_items": [
                {
                  "name": "allocationStrategy",
                  "type": "string",
                  "description": "The Amazon EC2 allocation strategy Amazon Web Services PCS uses to provision EC2 instances. Amazon Web Services PCS supports lowest price, capacity optimized, and price capacity optimized. For more information, see Use allocation strategies to determine how EC2 Fleet or Spot Fleet fulfills Spot and On-Demand capacity in the Amazon Elastic Compute Cloud User Guide. If you don't provide this option, it defaults to price capacity optimized.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "slurmConfiguration",
              "type": "dict",
              "description": "Additional options related to the Slurm scheduler.",
              "nested_items": [
                {
                  "name": "slurmCustomSettings",
                  "type": "list",
                  "description": "Additional Slurm-specific configuration that directly maps to Slurm settings.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "parameterName",
                          "type": "string",
                          "description": "Amazon Web Services PCS supports configuration of the following Slurm parameters:",
                          "nested_items": [
                            {
                              "name": "clusters",
                              "type": "",
                              "description": "Prolog.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "",
                                  "description": "Prolog.",
                                  "nested_items": []
                                },
                                {
                                  "name": "",
                                  "type": "",
                                  "description": "Epilog.",
                                  "nested_items": []
                                },
                                {
                                  "name": "",
                                  "type": "",
                                  "description": "SelectTypeParameters.",
                                  "nested_items": []
                                }
                              ]
                            },
                            {
                              "name": "compute node groups",
                              "type": "",
                              "description": "Weight.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "",
                                  "description": "Weight.",
                                  "nested_items": []
                                },
                                {
                                  "name": "",
                                  "type": "",
                                  "description": "RealMemory.",
                                  "nested_items": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "parameterValue",
                          "type": "string",
                          "description": "The values for the configured Slurm settings.",
                          "nested_items": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "errorInfo",
              "type": "list",
              "description": "The list of errors that occurred during compute node group provisioning.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "code",
                      "type": "string",
                      "description": "The short-form error code.",
                      "nested_items": []
                    },
                    {
                      "name": "message",
                      "type": "string",
                      "description": "The detailed error information.",
                      "nested_items": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
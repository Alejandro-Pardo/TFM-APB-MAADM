{
  "method_name": "create_calculated_attribute_definition",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/customer-profiles/client/create_calculated_attribute_definition.html",
  "description": "Creates a new calculated attribute definition. After creation, new object data ingested into Customer Profiles will be included in the calculated attribute, which can be retrieved for a profile using the GetCalculatedAttributeForProfile API. Defining a calculated attribute makes it available for all profiles within a domain. Each calculated attribute can only reference one ObjectType and at most, two fields from that ObjectType.",
  "parameters": [
    {
      "name": "DomainName",
      "type": "string",
      "required": true,
      "description": "The unique name of the domain.",
      "nested_params": []
    },
    {
      "name": "CalculatedAttributeName",
      "type": "string",
      "required": true,
      "description": "The unique name of the calculated attribute.",
      "nested_params": []
    },
    {
      "name": "DisplayName",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "Description",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "AttributeDetails",
      "type": "dict",
      "required": true,
      "description": "Mathematical expression and a list of attribute items specified in that expression. A list of attribute items specified in the mathematical expression. (dict) --- The details of a single attribute item specified in the mathematical expression. The name of an attribute defined in a profile object type. Mathematical expression that is performed on attribute items provided in the attribute list. Each element in the expression should follow the structure of \"{ObjectTypeName.AttributeName}\".",
      "nested_params": [
        {
          "name": "Attributes",
          "type": "list",
          "required": false,
          "description": "A list of attribute items specified in the mathematical expression.",
          "nested_params": [
            {
              "name": "Name",
              "type": "string",
              "required": false,
              "description": "The name of an attribute defined in a profile object type.",
              "nested_params": []
            }
          ]
        },
        {
          "name": "Expression",
          "type": "string",
          "required": false,
          "description": "Mathematical expression that is performed on attribute items provided in the attribute list. Each element in the expression should follow the structure of \"{ObjectTypeName.AttributeName}\".",
          "nested_params": []
        }
      ]
    },
    {
      "name": "Conditions",
      "type": "dict",
      "required": true,
      "description": "The conditions including range, object count, and threshold for the calculated attribute. Range (dict) --- The relative time period over which data is included in the aggregation. The amount of time of the specified unit. The unit of time. ObjectCount (integer) --- The number of profile objects used for the calculated attribute. Threshold (dict) --- The threshold for the calculated attribute. The value of the threshold. The operator of the threshold.",
      "nested_params": [
        {
          "name": "Range",
          "type": "dict",
          "required": false,
          "description": "The relative time period over which data is included in the aggregation.",
          "nested_params": [
            {
              "name": "Value",
              "type": "integer",
              "required": false,
              "description": "The amount of time of the specified unit.",
              "nested_params": []
            },
            {
              "name": "Unit",
              "type": "string",
              "required": false,
              "description": "The unit of time.",
              "nested_params": []
            }
          ]
        },
        {
          "name": "ObjectCount",
          "type": "integer",
          "required": false,
          "description": "The number of profile objects used for the calculated attribute.",
          "nested_params": []
        },
        {
          "name": "Threshold",
          "type": "dict",
          "required": false,
          "description": "The threshold for the calculated attribute.",
          "nested_params": [
            {
              "name": "Value",
              "type": "string",
              "required": false,
              "description": "The value of the threshold.",
              "nested_params": []
            },
            {
              "name": "Operator",
              "type": "string",
              "required": false,
              "description": "The operator of the threshold.",
              "nested_params": []
            }
          ]
        }
      ]
    },
    {
      "name": "Filter",
      "type": "dict",
      "required": true,
      "description": "Defines how to filter incoming objects to include part of the Calculated Attribute. Define whether to include or exclude objects for Calculated Attributed calculation that fit the filter groups criteria. Holds the list of Filter groups within the Filter definition. (dict) --- Object that holds the dimensions to filter on. The type of logical relationship between the dimensions of the Filter group. Object that holds the attributes to filter on. (dict) --- Contains the map of attribute names to attribute dimensions. Is the attribute within the FilterDimension map (string) --- (dict) --- Object that defines how to filter the incoming objects for the calculated attribute. The action to filter with. The values to apply the DimensionType on. (string) ---",
      "nested_params": [
        {
          "name": "Include",
          "type": "string",
          "required": false,
          "description": "Define whether to include or exclude objects for Calculated Attributed calculation that fit the filter groups criteria.",
          "nested_params": []
        },
        {
          "name": "Groups",
          "type": "list",
          "required": false,
          "description": "Holds the list of Filter groups within the Filter definition.",
          "nested_params": [
            {
              "name": "Type",
              "type": "string",
              "required": false,
              "description": "The type of logical relationship between the dimensions of the Filter group.",
              "nested_params": []
            },
            {
              "name": "Dimensions",
              "type": "list",
              "required": false,
              "description": "Object that holds the attributes to filter on.",
              "nested_params": [
                {
                  "name": "Attributes",
                  "type": "dict",
                  "required": false,
                  "description": "Is the attribute within the FilterDimension map.",
                  "nested_params": [
                    {
                      "name": "DimensionType",
                      "type": "string",
                      "required": false,
                      "description": "The action to filter with.",
                      "nested_params": []
                    },
                    {
                      "name": "Values",
                      "type": "list",
                      "required": false,
                      "description": "The values to apply the DimensionType on.",
                      "nested_params": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Statistic",
      "type": "string",
      "required": true,
      "description": "The aggregation operation to perform for the calculated attribute.",
      "nested_params": []
    },
    {
      "name": "Tags",
      "type": "dict",
      "required": false,
      "description": "The tags used to organize, track, or control access for this resource. (string) --- (string) ---",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "CalculatedAttributeName",
          "type": "string",
          "description": "The unique name of the calculated attribute.",
          "nested_items": []
        },
        {
          "name": "DisplayName",
          "type": "string",
          "description": "The display name of the calculated attribute.",
          "nested_items": []
        },
        {
          "name": "Description",
          "type": "string",
          "description": "The description of the calculated attribute.",
          "nested_items": []
        },
        {
          "name": "AttributeDetails",
          "type": "dict",
          "description": "Mathematical expression and a list of attribute items specified in that expression.",
          "nested_items": [
            {
              "name": "Attributes",
              "type": "list",
              "description": "A list of attribute items specified in the mathematical expression.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "Name",
                      "type": "string",
                      "description": "The name of an attribute defined in a profile object type.",
                      "nested_items": []
                    }
                  ]
                }
              ]
            },
            {
              "name": "Expression",
              "type": "string",
              "description": "Mathematical expression that is performed on attribute items provided in the attribute list. Each element in the expression should follow the structure of \"{ObjectTypeName.AttributeName}\".",
              "nested_items": []
            }
          ]
        },
        {
          "name": "Conditions",
          "type": "dict",
          "description": "The conditions including range, object count, and threshold for the calculated attribute.",
          "nested_items": [
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "Value",
                  "type": "integer",
                  "description": "The amount of time of the specified unit.",
                  "nested_items": []
                },
                {
                  "name": "Unit",
                  "type": "string",
                  "description": "The unit of time.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "ObjectCount",
              "type": "integer",
              "description": "The number of profile objects used for the calculated attribute.",
              "nested_items": []
            },
            {
              "name": "Threshold",
              "type": "dict",
              "description": "The threshold for the calculated attribute.",
              "nested_items": [
                {
                  "name": "Value",
                  "type": "string",
                  "description": "The value of the threshold.",
                  "nested_items": []
                },
                {
                  "name": "Operator",
                  "type": "string",
                  "description": "The operator of the threshold.",
                  "nested_items": []
                }
              ]
            }
          ]
        },
        {
          "name": "",
          "type": "dict",
          "description": "",
          "nested_items": [
            {
              "name": "Include",
              "type": "string",
              "description": "Define whether to include or exclude objects for Calculated Attributed calculation that fit the filter groups criteria.",
              "nested_items": []
            },
            {
              "name": "Groups",
              "type": "list",
              "description": "Holds the list of Filter groups within the Filter definition.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "Type",
                      "type": "string",
                      "description": "The type of logical relationship between the dimensions of the Filter group.",
                      "nested_items": []
                    },
                    {
                      "name": "Dimensions",
                      "type": "list",
                      "description": "Object that holds the attributes to filter on.",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "Attributes",
                              "type": "dict",
                              "description": "Is the attribute within the FilterDimension map.",
                              "nested_items": [
                                {
                                  "name": "DimensionType",
                                  "type": "string",
                                  "description": "(string) ---",
                                  "nested_items": [
                                    {
                                      "name": "",
                                      "type": "dict",
                                      "description": "",
                                      "nested_items": [
                                        {
                                          "name": "DimensionType",
                                          "type": "string",
                                          "description": "The action to filter with.",
                                          "nested_items": []
                                        },
                                        {
                                          "name": "Values",
                                          "type": "list",
                                          "description": "The values to apply the DimensionType on.",
                                          "nested_items": [
                                            {
                                              "name": "",
                                              "type": "string",
                                              "description": "(string) ---",
                                              "nested_items": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "Statistic",
          "type": "string",
          "description": "The aggregation operation to perform for the calculated attribute.",
          "nested_items": []
        },
        {
          "name": "CreatedAt",
          "type": "datetime",
          "description": "The timestamp of when the calculated attribute definition was created.",
          "nested_items": []
        },
        {
          "name": "LastUpdatedAt",
          "type": "datetime",
          "description": "The timestamp of when the calculated attribute definition was most recently edited.",
          "nested_items": []
        },
        {
          "name": "",
          "type": "dict",
          "description": "",
          "nested_items": [
            {
              "name": "",
              "type": "string",
              "description": "(string) ---",
              "nested_items": [
                {
                  "name": "",
                  "type": "string",
                  "description": "(string) ---",
                  "nested_items": []
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
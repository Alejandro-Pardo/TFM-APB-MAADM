{
  "method_name": "start_composition",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ivs-realtime/client/start_composition.html",
  "description": "Starts a Composition from a stage based on the configuration provided in the request. A Composition is an ephemeral resource that exists after this operation returns successfully. Composition stops and the resource is deleted:",
  "parameters": [
    {
      "name": "stageArn",
      "type": "string",
      "required": true,
      "description": "ARN of the stage to be used for compositing.",
      "nested_params": []
    },
    {
      "name": "idempotencyToken",
      "type": "string",
      "required": false,
      "description": "Idempotency token. This field is autopopulated if not provided.",
      "nested_params": []
    },
    {
      "name": "layout",
      "type": "dict",
      "required": false,
      "description": "Layout object to configure composition parameters. grid (dict) --- Configuration related to grid layout. Default: Grid layout. featuredParticipantAttribute (string) --- This attribute name identifies the featured slot. A participant with this attribute set to \"true\" (as a string value) in  ParticipantTokenConfiguration is placed in the featured slot. Default: \"\" (no featured participant). omitStoppedVideo (boolean) --- Determines whether to omit participants with stopped video in the composition. Default: false. videoAspectRatio (string) --- Sets the non-featured participant display mode, to control the aspect ratio of video tiles. VIDEO is 16:9, SQUARE is 1:1, and PORTRAIT is 3:4. Default: VIDEO. videoFillMode (string) --- Defines how video content fits within the participant tile: FILL (stretched), COVER (cropped), or CONTAIN (letterboxed). When not set, videoFillMode defaults to COVER fill mode for participants in the grid and to CONTAIN fill mode for featured participants. gridGap (integer) --- Specifies the spacing between participant tiles in pixels. Default: 2. pip (dict) --- Configuration related to PiP layout. Default: COVER. Default: 0. pipParticipantAttribute (string) --- Specifies the participant for the PiP window. A participant with this attribute set to \"true\" (as a string value) in  ParticipantTokenConfiguration is placed in the PiP slot. Default: \"\" (no PiP participant). pipBehavior (string) --- Defines PiP behavior when all participants have left: STATIC (maintains original position/size) or DYNAMIC (expands to full composition). Default: STATIC. pipOffset (integer) --- Sets the PiP window's offset position in pixels from the closest edges determined by PipPosition. pipPosition (string) --- Determines the corner position of the PiP window. Default: BOTTOM_RIGHT. pipWidth (integer) --- Specifies the width of the PiP window in pixels. When this is not set explicitly, pipWidth's value will be based on the size of the composition and the aspect ratio of the participant's video. pipHeight (integer) --- Specifies the height of the PiP window in pixels. When this is not set explicitly, pipHeight's value will be based on the size of the composition and the aspect ratio of the participant's video.",
      "nested_params": [
        {
          "name": "grid",
          "type": "dict",
          "required": false,
          "description": "Configuration related to grid layout. Default: Grid layout.",
          "nested_params": [
            {
              "name": "featuredParticipantAttribute",
              "type": "string",
              "required": false,
              "description": "This attribute name identifies the featured slot. A participant with this attribute set to \"true\" (as a string value) in  ParticipantTokenConfiguration is placed in the featured slot. Default: \"\" (no featured participant).",
              "nested_params": []
            },
            {
              "name": "omitStoppedVideo",
              "type": "boolean",
              "required": false,
              "description": "Determines whether to omit participants with stopped video in the composition. Default: false.",
              "nested_params": []
            },
            {
              "name": "videoAspectRatio",
              "type": "string",
              "required": false,
              "description": "Sets the non-featured participant display mode, to control the aspect ratio of video tiles. VIDEO is 16:9, SQUARE is 1:1, and PORTRAIT is 3:4. Default: VIDEO.",
              "nested_params": []
            },
            {
              "name": "videoFillMode",
              "type": "string",
              "required": false,
              "description": "Defines how video content fits within the participant tile: FILL (stretched), COVER (cropped), or CONTAIN (letterboxed). When not set, videoFillMode defaults to COVER fill mode for participants in the grid and to CONTAIN fill mode for featured participants.",
              "nested_params": []
            },
            {
              "name": "gridGap",
              "type": "integer",
              "required": false,
              "description": "Specifies the spacing between participant tiles in pixels. Default: 2.",
              "nested_params": []
            }
          ]
        },
        {
          "name": "pip",
          "type": "dict",
          "required": false,
          "description": "Configuration related to PiP layout.",
          "nested_params": [
            {
              "name": "featuredParticipantAttribute",
              "type": "string",
              "required": false,
              "description": "This attribute name identifies the featured slot. A participant with this attribute set to \"true\" (as a string value) in  ParticipantTokenConfiguration is placed in the featured slot. Default: \"\" (no featured participant).",
              "nested_params": []
            },
            {
              "name": "omitStoppedVideo",
              "type": "boolean",
              "required": false,
              "description": "Determines whether to omit participants with stopped video in the composition. Default: false.",
              "nested_params": []
            },
            {
              "name": "videoFillMode",
              "type": "string",
              "required": false,
              "description": "Defines how video content fits within the participant tile: FILL (stretched), COVER (cropped), or CONTAIN (letterboxed). Default: COVER.",
              "nested_params": []
            },
            {
              "name": "gridGap",
              "type": "integer",
              "required": false,
              "description": "Specifies the spacing between participant tiles in pixels. Default: 0.",
              "nested_params": []
            },
            {
              "name": "pipParticipantAttribute",
              "type": "string",
              "required": false,
              "description": "Specifies the participant for the PiP window. A participant with this attribute set to \"true\" (as a string value) in  ParticipantTokenConfiguration is placed in the PiP slot. Default: \"\" (no PiP participant).",
              "nested_params": []
            },
            {
              "name": "pipBehavior",
              "type": "string",
              "required": false,
              "description": "Defines PiP behavior when all participants have left: STATIC (maintains original position/size) or DYNAMIC (expands to full composition). Default: STATIC.",
              "nested_params": []
            },
            {
              "name": "pipOffset",
              "type": "integer",
              "required": false,
              "description": "Sets the PiP window's offset position in pixels from the closest edges determined by PipPosition. Default: 0.",
              "nested_params": []
            },
            {
              "name": "pipPosition",
              "type": "string",
              "required": false,
              "description": "Determines the corner position of the PiP window. Default: BOTTOM_RIGHT.",
              "nested_params": []
            },
            {
              "name": "pipWidth",
              "type": "integer",
              "required": false,
              "description": "Specifies the width of the PiP window in pixels. When this is not set explicitly, pipWidth's value will be based on the size of the composition and the aspect ratio of the participant's video.",
              "nested_params": []
            },
            {
              "name": "pipHeight",
              "type": "integer",
              "required": false,
              "description": "Specifies the height of the PiP window in pixels. When this is not set explicitly, pipHeight's value will be based on the size of the composition and the aspect ratio of the participant's video.",
              "nested_params": []
            }
          ]
        }
      ]
    },
    {
      "name": "destinations",
      "type": "list",
      "required": true,
      "description": "Array of destination configuration. (dict) --- Complex data type that defines destination-configuration objects. name (string) --- Name that can be specified to help identify the destination. channel (dict) --- An IVS channel to be used for broadcasting, for server-side composition. Either a channel or an s3 must be specified. ARN of the channel to use for broadcasting. The channel and stage resources must be in the same AWS account and region. The channel must be offline (not broadcasting). encoderConfigurationArn (string) --- ARN of the  EncoderConfiguration resource. The encoder configuration and stage resources must be in the same AWS account and region. s3 (dict) --- An S3 storage configuration to be used for recording video data. ARN of the  StorageConfiguration where recorded videos will be stored. ARNs of the  EncoderConfiguration resource. (string) --- recordingConfiguration (dict) --- Array of maps, each of the form string:string (key:value). This is an optional customer specification, currently used only to specify the recording format for storing a recording in Amazon S3. hlsConfiguration (dict) --- An HLS configuration object to return information about how the recording will be configured. targetSegmentDurationSeconds (integer) --- Defines the target duration for recorded segments generated when using composite recording. Segments may have durations shorter than the specified value when needed to ensure each segment begins with a keyframe. Default: 2. format (string) --- The recording format for storing a recording in Amazon S3. thumbnailConfigurations (list) --- A complex type that allows you to enable/disable the recording of thumbnails for a  Composition and modify the interval at which thumbnails are generated for the live session. (dict) --- An object representing a configuration of thumbnails for recorded video for a  Composition. targetIntervalSeconds (integer) --- The targeted thumbnail-generation interval in seconds. Default: 60. storage (list) --- Indicates the format in which thumbnails are recorded. SEQUENTIAL records all generated thumbnails in a serial manner, to the media/thumbnails/(width)x(height) directory, where (width) and (height) are the width and height of the thumbnail. LATEST saves the latest thumbnail in media/latest_thumbnail/(width)x(height)/thumb.jpg and overwrites it at the interval specified by targetIntervalSeconds. You can enable both SEQUENTIAL and LATEST. Default: SEQUENTIAL. (string) ---",
      "nested_params": [
        {
          "name": "name",
          "type": "string",
          "required": false,
          "description": "Name that can be specified to help identify the destination.",
          "nested_params": []
        },
        {
          "name": "channel",
          "type": "dict",
          "required": false,
          "description": "An IVS channel to be used for broadcasting, for server-side composition. Either a channel or an s3 must be specified.",
          "nested_params": [
            {
              "name": "channelArn",
              "type": "string",
              "required": false,
              "description": "ARN of the channel to use for broadcasting. The channel and stage resources must be in the same AWS account and region. The channel must be offline (not broadcasting).",
              "nested_params": []
            },
            {
              "name": "encoderConfigurationArn",
              "type": "string",
              "required": false,
              "description": "ARN of the  EncoderConfiguration resource. The encoder configuration and stage resources must be in the same AWS account and region.",
              "nested_params": []
            }
          ]
        },
        {
          "name": "s3",
          "type": "dict",
          "required": false,
          "description": "An S3 storage configuration to be used for recording video data. Either a channel or an s3 must be specified.",
          "nested_params": [
            {
              "name": "storageConfigurationArn",
              "type": "string",
              "required": false,
              "description": "ARN of the  StorageConfiguration where recorded videos will be stored.",
              "nested_params": []
            },
            {
              "name": "encoderConfigurationArns",
              "type": "list",
              "required": false,
              "description": "ARNs of the  EncoderConfiguration resource. The encoder configuration and stage resources must be in the same AWS account and region.",
              "nested_params": []
            },
            {
              "name": "recordingConfiguration",
              "type": "dict",
              "required": false,
              "description": "Array of maps, each of the form string:string (key:value). This is an optional customer specification, currently used only to specify the recording format for storing a recording in Amazon S3.",
              "nested_params": [
                {
                  "name": "hlsConfiguration",
                  "type": "dict",
                  "required": false,
                  "description": "An HLS configuration object to return information about how the recording will be configured.",
                  "nested_params": [
                    {
                      "name": "targetSegmentDurationSeconds",
                      "type": "integer",
                      "required": false,
                      "description": "Defines the target duration for recorded segments generated when using composite recording. Segments may have durations shorter than the specified value when needed to ensure each segment begins with a keyframe. Default: 2.",
                      "nested_params": []
                    }
                  ]
                },
                {
                  "name": "format",
                  "type": "string",
                  "required": false,
                  "description": "The recording format for storing a recording in Amazon S3.",
                  "nested_params": []
                }
              ]
            },
            {
              "name": "thumbnailConfigurations",
              "type": "list",
              "required": false,
              "description": "A complex type that allows you to enable/disable the recording of thumbnails for a  Composition and modify the interval at which thumbnails are generated for the live session.",
              "nested_params": [
                {
                  "name": "targetIntervalSeconds",
                  "type": "integer",
                  "required": false,
                  "description": "The targeted thumbnail-generation interval in seconds. Default: 60.",
                  "nested_params": []
                },
                {
                  "name": "storage",
                  "type": "list",
                  "required": false,
                  "description": "Indicates the format in which thumbnails are recorded. SEQUENTIAL records all generated thumbnails in a serial manner, to the media/thumbnails/(width)x(height) directory, where (width) and (height) are the width and height of the thumbnail. LATEST saves the latest thumbnail in media/latest_thumbnail/(width)x(height)/thumb.jpg and overwrites it at the interval specified by targetIntervalSeconds. You can enable both SEQUENTIAL and LATEST. Default: SEQUENTIAL.",
                  "nested_params": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "tags",
      "type": "dict",
      "required": false,
      "description": "Tags attached to the resource. Array of maps, each of the form string:string (key:value). See Best practices and strategies in Tagging AWS Resources and Tag Editor for details, including restrictions that apply to tags and 'Tag naming limits and requirements'; Amazon IVS has no constraints on tags beyond what is documented there. (string) --- (string) ---",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "composition",
          "type": "dict",
          "description": "The Composition that was created.",
          "nested_items": [
            {
              "name": "arn",
              "type": "string",
              "description": "ARN of the Composition resource.",
              "nested_items": []
            },
            {
              "name": "stageArn",
              "type": "string",
              "description": "ARN of the stage used as input.",
              "nested_items": []
            },
            {
              "name": "state",
              "type": "string",
              "description": "State of the Composition.",
              "nested_items": []
            },
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "featuredParticipantAttribute",
                      "type": "string",
                      "description": "This attribute name identifies the featured slot. A participant with this attribute set to \"true\" (as a string value) in  ParticipantTokenConfiguration is placed in the featured slot. Default: \"\" (no featured participant).",
                      "nested_items": []
                    },
                    {
                      "name": "omitStoppedVideo",
                      "type": "boolean",
                      "description": "Determines whether to omit participants with stopped video in the composition. Default: false.",
                      "nested_items": []
                    },
                    {
                      "name": "videoAspectRatio",
                      "type": "string",
                      "description": "Sets the non-featured participant display mode, to control the aspect ratio of video tiles. VIDEO is 16:9, SQUARE is 1:1, and PORTRAIT is 3:4. Default: VIDEO.",
                      "nested_items": []
                    },
                    {
                      "name": "videoFillMode",
                      "type": "string",
                      "description": "Defines how video content fits within the participant tile: FILL (stretched), COVER (cropped), or CONTAIN (letterboxed). When not set, videoFillMode defaults to COVER fill mode for participants in the grid and to CONTAIN fill mode for featured participants.",
                      "nested_items": []
                    },
                    {
                      "name": "gridGap",
                      "type": "integer",
                      "description": "Specifies the spacing between participant tiles in pixels. Default: 2.",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "featuredParticipantAttribute",
                      "type": "string",
                      "description": "This attribute name identifies the featured slot. A participant with this attribute set to \"true\" (as a string value) in  ParticipantTokenConfiguration is placed in the featured slot. Default: \"\" (no featured participant).",
                      "nested_items": []
                    },
                    {
                      "name": "omitStoppedVideo",
                      "type": "boolean",
                      "description": "Determines whether to omit participants with stopped video in the composition. Default: false.",
                      "nested_items": []
                    },
                    {
                      "name": "videoFillMode",
                      "type": "string",
                      "description": "Defines how video content fits within the participant tile: FILL (stretched), COVER (cropped), or CONTAIN (letterboxed). Default: COVER.",
                      "nested_items": []
                    },
                    {
                      "name": "gridGap",
                      "type": "integer",
                      "description": "Specifies the spacing between participant tiles in pixels. Default: 0.",
                      "nested_items": []
                    },
                    {
                      "name": "pipParticipantAttribute",
                      "type": "string",
                      "description": "Specifies the participant for the PiP window. A participant with this attribute set to \"true\" (as a string value) in  ParticipantTokenConfiguration is placed in the PiP slot. Default: \"\" (no PiP participant).",
                      "nested_items": []
                    },
                    {
                      "name": "pipBehavior",
                      "type": "string",
                      "description": "Defines PiP behavior when all participants have left: STATIC (maintains original position/size) or DYNAMIC (expands to full composition). Default: STATIC.",
                      "nested_items": []
                    },
                    {
                      "name": "pipOffset",
                      "type": "integer",
                      "description": "Sets the PiP window's offset position in pixels from the closest edges determined by PipPosition. Default: 0.",
                      "nested_items": []
                    },
                    {
                      "name": "pipPosition",
                      "type": "string",
                      "description": "Determines the corner position of the PiP window. Default: BOTTOM_RIGHT.",
                      "nested_items": []
                    },
                    {
                      "name": "pipWidth",
                      "type": "integer",
                      "description": "Specifies the width of the PiP window in pixels. When this is not set explicitly, pipWidth's value will be based on the size of the composition and the aspect ratio of the participant's video.",
                      "nested_items": []
                    },
                    {
                      "name": "pipHeight",
                      "type": "integer",
                      "description": "Specifies the height of the PiP window in pixels. When this is not set explicitly, pipHeight's value will be based on the size of the composition and the aspect ratio of the participant's video.",
                      "nested_items": []
                    }
                  ]
                }
              ]
            },
            {
              "name": "destinations",
              "type": "list",
              "description": "Array of Destination objects. A Composition can contain either one destination ( channel or s3) or two (one channel and one s3).",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "id",
                      "type": "string",
                      "description": "Unique identifier for this destination, assigned by IVS.",
                      "nested_items": []
                    },
                    {
                      "name": "state",
                      "type": "string",
                      "description": "State of the Composition Destination.",
                      "nested_items": []
                    },
                    {
                      "name": "startTime",
                      "type": "datetime",
                      "description": "UTC time of the destination start. This is an ISO 8601 timestamp; note that this is returned as a string.",
                      "nested_items": []
                    },
                    {
                      "name": "endTime",
                      "type": "datetime",
                      "description": "UTC time of the destination end. This is an ISO 8601 timestamp; note that this is returned as a string.",
                      "nested_items": []
                    },
                    {
                      "name": "configuration",
                      "type": "dict",
                      "description": "Configuration used to create this destination.",
                      "nested_items": [
                        {
                          "name": "name",
                          "type": "string",
                          "description": "Name that can be specified to help identify the destination.",
                          "nested_items": []
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "channelArn",
                              "type": "string",
                              "description": "ARN of the channel to use for broadcasting. The channel and stage resources must be in the same AWS account and region. The channel must be offline (not broadcasting).",
                              "nested_items": []
                            },
                            {
                              "name": "encoderConfigurationArn",
                              "type": "string",
                              "description": "ARN of the  EncoderConfiguration resource. The encoder configuration and stage resources must be in the same AWS account and region.",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "storageConfigurationArn",
                              "type": "string",
                              "description": "ARN of the  StorageConfiguration where recorded videos will be stored.",
                              "nested_items": []
                            },
                            {
                              "name": "encoderConfigurationArns",
                              "type": "list",
                              "description": "ARNs of the  EncoderConfiguration resource. The encoder configuration and stage resources must be in the same AWS account and region.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "string",
                                  "description": "(string) ---",
                                  "nested_items": []
                                }
                              ]
                            },
                            {
                              "name": "recordingConfiguration",
                              "type": "dict",
                              "description": "Array of maps, each of the form string:string (key:value). This is an optional customer specification, currently used only to specify the recording format for storing a recording in Amazon S3.",
                              "nested_items": [
                                {
                                  "name": "hlsConfiguration",
                                  "type": "dict",
                                  "description": "An HLS configuration object to return information about how the recording will be configured.",
                                  "nested_items": [
                                    {
                                      "name": "targetSegmentDurationSeconds",
                                      "type": "integer",
                                      "description": "Defines the target duration for recorded segments generated when using composite recording. Segments may have durations shorter than the specified value when needed to ensure each segment begins with a keyframe. Default: 2.",
                                      "nested_items": []
                                    }
                                  ]
                                },
                                {
                                  "name": "format",
                                  "type": "string",
                                  "description": "The recording format for storing a recording in Amazon S3.",
                                  "nested_items": []
                                }
                              ]
                            },
                            {
                              "name": "thumbnailConfigurations",
                              "type": "list",
                              "description": "A complex type that allows you to enable/disable the recording of thumbnails for a  Composition and modify the interval at which thumbnails are generated for the live session.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "targetIntervalSeconds",
                                      "type": "integer",
                                      "description": "The targeted thumbnail-generation interval in seconds. Default: 60.",
                                      "nested_items": []
                                    },
                                    {
                                      "name": "storage",
                                      "type": "list",
                                      "description": "Indicates the format in which thumbnails are recorded. SEQUENTIAL records all generated thumbnails in a serial manner, to the media/thumbnails/(width)x(height) directory, where (width) and (height) are the width and height of the thumbnail. LATEST saves the latest thumbnail in media/latest_thumbnail/(width)x(height)/thumb.jpg and overwrites it at the interval specified by targetIntervalSeconds. You can enable both SEQUENTIAL and LATEST. Default: SEQUENTIAL.",
                                      "nested_items": [
                                        {
                                          "name": "",
                                          "type": "string",
                                          "description": "(string) ---",
                                          "nested_items": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "recordingPrefix",
                              "type": "string",
                              "description": "The S3 bucket prefix under which the recording is stored.",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "",
                  "type": "string",
                  "description": "(string) ---",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "string",
                      "description": "(string) ---",
                      "nested_items": []
                    }
                  ]
                }
              ]
            },
            {
              "name": "startTime",
              "type": "datetime",
              "description": "UTC time of the Composition start. This is an ISO 8601 timestamp; note that this is returned as a string.",
              "nested_items": []
            },
            {
              "name": "endTime",
              "type": "datetime",
              "description": "UTC time of the Composition end. This is an ISO 8601 timestamp; note that this is returned as a string.",
              "nested_items": []
            }
          ]
        }
      ]
    }
  ]
}
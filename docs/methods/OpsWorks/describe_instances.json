{
  "method_name": "describe_instances",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/opsworks/client/describe_instances.html",
  "description": "Requests a description of a set of instances. Required Permissions: To use this action, an IAM user must have a Show, Deploy, or Manage permissions level for the stack, or an attached policy that explicitly grants permissions. For more information about user permissions, see Managing User Permissions.",
  "parameters": [
    {
      "name": "StackId",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "LayerId",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "InstanceIds",
      "type": "list",
      "required": false,
      "description": "An array of instance IDs to be described. If you use this parameter, DescribeInstances returns a description of the specified instances. Otherwise, it returns a description of every instance. (string) ---",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "Instances",
          "type": "list",
          "description": "An array of Instance objects that describe the instances.",
          "nested_items": [
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "AgentVersion",
                  "type": "string",
                  "description": "The agent version. This parameter is set to INHERIT if the instance inherits the default stack setting or to a a version number for a fixed agent version.",
                  "nested_items": []
                },
                {
                  "name": "AmiId",
                  "type": "string",
                  "description": "A custom AMI ID to be used to create the instance. For more information, see Instances.",
                  "nested_items": []
                },
                {
                  "name": "Architecture",
                  "type": "string",
                  "description": "The instance architecture: 'i386' or 'x86_64'.",
                  "nested_items": []
                },
                {
                  "name": "Arn",
                  "type": "string",
                  "description": "The instance's Amazon Resource Number (ARN).",
                  "nested_items": []
                },
                {
                  "name": "AutoScalingType",
                  "type": "string",
                  "description": "For load-based or time-based instances, the type.",
                  "nested_items": []
                },
                {
                  "name": "AvailabilityZone",
                  "type": "string",
                  "description": "The instance Availability Zone. For more information, see Regions and Endpoints.",
                  "nested_items": []
                },
                {
                  "name": "BlockDeviceMappings",
                  "type": "list",
                  "description": "An array of BlockDeviceMapping objects that specify the instance's block device mappings.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "DeviceName",
                          "type": "string",
                          "description": "The device name that is exposed to the instance, such as /dev/sdh. For the root device, you can use the explicit device name or you can set this parameter to ROOT_DEVICE and OpsWorks Stacks will provide the correct device name.",
                          "nested_items": []
                        },
                        {
                          "name": "NoDevice",
                          "type": "string",
                          "description": "Suppresses the specified device included in the AMI's block device mapping.",
                          "nested_items": []
                        },
                        {
                          "name": "VirtualName",
                          "type": "string",
                          "description": "The virtual device name. For more information, see BlockDeviceMapping.",
                          "nested_items": []
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "SnapshotId",
                              "type": "string",
                              "description": "The snapshot ID.",
                              "nested_items": []
                            },
                            {
                              "name": "Iops",
                              "type": "integer",
                              "description": "The number of I/O operations per second (IOPS) that the volume supports. For more information, see EbsBlockDevice.",
                              "nested_items": []
                            },
                            {
                              "name": "VolumeSize",
                              "type": "integer",
                              "description": "The volume size, in GiB. For more information, see EbsBlockDevice.",
                              "nested_items": []
                            },
                            {
                              "name": "VolumeType",
                              "type": "string",
                              "description": "The volume type. gp2 for General Purpose (SSD) volumes, io1 for Provisioned IOPS (SSD) volumes, st1 for Throughput Optimized hard disk drives (HDD), sc1 for Cold HDD,and standard for Magnetic volumes.",
                              "nested_items": []
                            },
                            {
                              "name": "DeleteOnTermination",
                              "type": "boolean",
                              "description": "Whether the volume is deleted on instance termination.",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "name": "CreatedAt",
                  "type": "string",
                  "description": "The time that the instance was created.",
                  "nested_items": []
                },
                {
                  "name": "EbsOptimized",
                  "type": "boolean",
                  "description": "Whether this is an Amazon EBS-optimized instance.",
                  "nested_items": []
                },
                {
                  "name": "Ec2InstanceId",
                  "type": "string",
                  "description": "The ID of the associated Amazon EC2 instance.",
                  "nested_items": []
                },
                {
                  "name": "EcsClusterArn",
                  "type": "string",
                  "description": "For container instances, the Amazon ECS cluster's ARN.",
                  "nested_items": []
                },
                {
                  "name": "EcsContainerInstanceArn",
                  "type": "string",
                  "description": "For container instances, the instance's ARN.",
                  "nested_items": []
                },
                {
                  "name": "ElasticIp",
                  "type": "string",
                  "description": "The instance Elastic IP address.",
                  "nested_items": []
                },
                {
                  "name": "Hostname",
                  "type": "string",
                  "description": "The instance host name. The following are character limits for instance host names.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "",
                      "description": "Linux-based instances: 63 characters.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "Windows-based instances: 15 characters.",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "InfrastructureClass",
                  "type": "string",
                  "description": "For registered instances, the infrastructure class: ec2 or on-premises.",
                  "nested_items": []
                },
                {
                  "name": "InstallUpdatesOnBoot",
                  "type": "boolean",
                  "description": "Whether to install operating system and package updates when the instance boots. The default value is true. If this value is set to false, you must update instances manually by using  CreateDeployment to run the update_dependencies stack command or by manually running yum (Amazon Linux) or apt-get (Ubuntu) on the instances.",
                  "nested_items": []
                },
                {
                  "name": "InstanceId",
                  "type": "string",
                  "description": "The instance ID.",
                  "nested_items": []
                },
                {
                  "name": "InstanceProfileArn",
                  "type": "string",
                  "description": "The ARN of the instance's IAM profile. For more information about IAM ARNs, see Using Identifiers.",
                  "nested_items": []
                },
                {
                  "name": "InstanceType",
                  "type": "string",
                  "description": "The instance type, such as t2.micro.",
                  "nested_items": []
                },
                {
                  "name": "LastServiceErrorId",
                  "type": "string",
                  "description": "The ID of the last service error. For more information, call  DescribeServiceErrors.",
                  "nested_items": []
                },
                {
                  "name": "LayerIds",
                  "type": "list",
                  "description": "An array containing the instance layer IDs.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "string",
                      "description": "(string) ---",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "Os",
                  "type": "string",
                  "description": "The instance's operating system.",
                  "nested_items": []
                },
                {
                  "name": "Platform",
                  "type": "string",
                  "description": "The instance's platform.",
                  "nested_items": []
                },
                {
                  "name": "PrivateDns",
                  "type": "string",
                  "description": "The instance's private DNS name.",
                  "nested_items": []
                },
                {
                  "name": "PrivateIp",
                  "type": "string",
                  "description": "The instance's private IP address.",
                  "nested_items": []
                },
                {
                  "name": "PublicDns",
                  "type": "string",
                  "description": "The instance public DNS name.",
                  "nested_items": []
                },
                {
                  "name": "PublicIp",
                  "type": "string",
                  "description": "The instance public IP address.",
                  "nested_items": []
                },
                {
                  "name": "RegisteredBy",
                  "type": "string",
                  "description": "For registered instances, who performed the registration.",
                  "nested_items": []
                },
                {
                  "name": "ReportedAgentVersion",
                  "type": "string",
                  "description": "The instance's reported OpsWorks Stacks agent version.",
                  "nested_items": []
                },
                {
                  "name": "ReportedOs",
                  "type": "dict",
                  "description": "For registered instances, the reported operating system.",
                  "nested_items": [
                    {
                      "name": "Family",
                      "type": "string",
                      "description": "The operating system family.",
                      "nested_items": []
                    },
                    {
                      "name": "Name",
                      "type": "string",
                      "description": "The operating system name.",
                      "nested_items": []
                    },
                    {
                      "name": "Version",
                      "type": "string",
                      "description": "The operating system version.",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "RootDeviceType",
                  "type": "string",
                  "description": "The instance's root device type. For more information, see Storage for the Root Device.",
                  "nested_items": []
                },
                {
                  "name": "RootDeviceVolumeId",
                  "type": "string",
                  "description": "The root device volume ID.",
                  "nested_items": []
                },
                {
                  "name": "SecurityGroupIds",
                  "type": "list",
                  "description": "An array containing the instance security group IDs.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "string",
                      "description": "(string) ---",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "SshHostDsaKeyFingerprint",
                  "type": "string",
                  "description": "The SSH key's Deep Security Agent (DSA) fingerprint.",
                  "nested_items": []
                },
                {
                  "name": "SshHostRsaKeyFingerprint",
                  "type": "string",
                  "description": "The SSH key's RSA fingerprint.",
                  "nested_items": []
                },
                {
                  "name": "SshKeyName",
                  "type": "string",
                  "description": "The instance's Amazon EC2 key-pair name.",
                  "nested_items": []
                },
                {
                  "name": "StackId",
                  "type": "string",
                  "description": "The stack ID.",
                  "nested_items": []
                },
                {
                  "name": "Status",
                  "type": "string",
                  "description": "The instance status:",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "",
                      "description": "booting.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "connection_lost.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "online.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "pending.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "rebooting.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "requested.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "running_setup.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "setup_failed.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "shutting_down.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "start_failed.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "stop_failed.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "stopped.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "stopping.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "terminated.",
                      "nested_items": []
                    },
                    {
                      "name": "",
                      "type": "",
                      "description": "terminating.",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "SubnetId",
                  "type": "string",
                  "description": "The instance's subnet ID; applicable only if the stack is running in a VPC.",
                  "nested_items": []
                },
                {
                  "name": "Tenancy",
                  "type": "string",
                  "description": "The instance's tenancy option, such as dedicated or host.",
                  "nested_items": []
                },
                {
                  "name": "VirtualizationType",
                  "type": "string",
                  "description": "The instance's virtualization type: paravirtual or hvm.",
                  "nested_items": []
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
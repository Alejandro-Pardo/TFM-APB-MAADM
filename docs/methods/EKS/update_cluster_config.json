{
  "method_name": "update_cluster_config",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/eks/client/update_cluster_config.html",
  "description": "Updates an Amazon EKS cluster configuration. Your cluster continues to function during the update. The response output includes an update ID that you can use to track the status of your cluster update with DescribeUpdate. You can use this operation to do the following actions: Cluster updates are asynchronous, and they should finish within a few minutes. During an update, the cluster status moves to UPDATING (this status transition is eventually consistent). When the update is complete (either Failed or Successful), the cluster status moves to Active.",
  "parameters": [
    {
      "name": "name",
      "type": "string",
      "required": true,
      "description": "The name of the Amazon EKS cluster to update.",
      "nested_params": []
    },
    {
      "name": "resourcesVpcConfig",
      "type": "dict",
      "required": false,
      "description": "An object representing the VPC configuration to use for an Amazon EKS cluster. subnetIds (list) --- Specify subnets for your Amazon EKS nodes. Amazon EKS creates cross-account elastic network interfaces in these subnets to allow communication between your nodes and the Kubernetes control plane. (string) --- securityGroupIds (list) --- Specify one or more security groups for the cross-account elastic network interfaces that Amazon EKS creates to use that allow communication between your nodes and the Kubernetes control plane. If you don't specify any security groups, then familiarize yourself with the difference between Amazon EKS defaults for clusters deployed with Kubernetes. For more information, see Amazon EKS security group considerations in the Amazon EKS User Guide . (string) --- endpointPublicAccess (boolean) --- Set this value to false to disable public access to your cluster's Kubernetes API server endpoint. If you disable public access, your cluster's Kubernetes API server can only receive requests from within the cluster VPC. The default value for this parameter is true, which enables public access for your Kubernetes API server. For more information, see Amazon EKS cluster endpoint access control in the Amazon EKS User Guide . endpointPrivateAccess (boolean) --- Set this value to true to enable private access for your cluster's Kubernetes API server endpoint. If you enable private access, Kubernetes API requests from within your cluster's VPC use the private VPC endpoint. The default value for this parameter is false, which disables private access for your Kubernetes API server. If you disable private access and you have nodes or Fargate pods in the cluster, then ensure that publicAccessCidrs includes the necessary CIDR blocks for communication with the nodes or Fargate pods. publicAccessCidrs (list) --- The CIDR blocks that are allowed access to your cluster's public Kubernetes API server endpoint. Communication to the endpoint from addresses outside of the CIDR blocks that you specify is denied. The default value is 0.0.0.0/0. If you've disabled private endpoint access, make sure that you specify the necessary CIDR blocks for every node and Fargate Pod in the cluster. (string) ---",
      "nested_params": [
        {
          "name": "subnetIds",
          "type": "list",
          "required": false,
          "description": "Specify subnets for your Amazon EKS nodes. Amazon EKS creates cross-account elastic network interfaces in these subnets to allow communication between your nodes and the Kubernetes control plane.",
          "nested_params": []
        },
        {
          "name": "securityGroupIds",
          "type": "list",
          "required": false,
          "description": "Specify one or more security groups for the cross-account elastic network interfaces that Amazon EKS creates to use that allow communication between your nodes and the Kubernetes control plane. If you don't specify any security groups, then familiarize yourself with the difference between Amazon EKS defaults for clusters deployed with Kubernetes. For more information, see Amazon EKS security group considerations in the Amazon EKS User Guide .",
          "nested_params": []
        },
        {
          "name": "endpointPublicAccess",
          "type": "boolean",
          "required": false,
          "description": "Set this value to false to disable public access to your cluster's Kubernetes API server endpoint. If you disable public access, your cluster's Kubernetes API server can only receive requests from within the cluster VPC. The default value for this parameter is true, which enables public access for your Kubernetes API server. For more information, see Amazon EKS cluster endpoint access control in the Amazon EKS User Guide .",
          "nested_params": []
        },
        {
          "name": "endpointPrivateAccess",
          "type": "boolean",
          "required": false,
          "description": "Set this value to true to enable private access for your cluster's Kubernetes API server endpoint. If you enable private access, Kubernetes API requests from within your cluster's VPC use the private VPC endpoint. The default value for this parameter is false, which disables private access for your Kubernetes API server. If you disable private access and you have nodes or Fargate pods in the cluster, then ensure that publicAccessCidrs includes the necessary CIDR blocks for communication with the nodes or Fargate pods. For more information, see Amazon EKS cluster endpoint access control in the Amazon EKS User Guide .",
          "nested_params": []
        },
        {
          "name": "publicAccessCidrs",
          "type": "list",
          "required": false,
          "description": "The CIDR blocks that are allowed access to your cluster's public Kubernetes API server endpoint. Communication to the endpoint from addresses outside of the CIDR blocks that you specify is denied. The default value is 0.0.0.0/0. If you've disabled private endpoint access, make sure that you specify the necessary CIDR blocks for every node and Fargate Pod in the cluster. For more information, see Amazon EKS cluster endpoint access control in the Amazon EKS User Guide .",
          "nested_params": []
        }
      ]
    },
    {
      "name": "logging",
      "type": "dict",
      "required": false,
      "description": "Enable or disable exporting the Kubernetes control plane logs for your cluster to CloudWatch Logs . By default, cluster control plane logs aren't exported to CloudWatch Logs . For more information, see Amazon EKS cluster control plane logs in the Amazon EKS User Guide . clusterLogging (list) --- The cluster control plane logging configuration for your cluster. (dict) --- An object representing the enabled or disabled Kubernetes control plane logs for your cluster. types (list) --- The available cluster control plane log types. (string) --- enabled (boolean) --- If a log type is enabled, that log type exports its control plane logs to CloudWatch Logs . If a log type isn't enabled, that log type doesn't export its control plane logs. Each individual log type can be enabled or disabled independently.",
      "nested_params": [
        {
          "name": "clusterLogging",
          "type": "list",
          "required": false,
          "description": "The cluster control plane logging configuration for your cluster.",
          "nested_params": [
            {
              "name": "types",
              "type": "list",
              "required": false,
              "description": "The available cluster control plane log types.",
              "nested_params": []
            },
            {
              "name": "enabled",
              "type": "boolean",
              "required": false,
              "description": "If a log type is enabled, that log type exports its control plane logs to CloudWatch Logs . If a log type isn't enabled, that log type doesn't export its control plane logs. Each individual log type can be enabled or disabled independently.",
              "nested_params": []
            }
          ]
        }
      ]
    },
    {
      "name": "clientRequestToken",
      "type": "string",
      "required": false,
      "description": "A unique, case-sensitive identifier that you provide to ensure the idempotency of the request. This field is autopopulated if not provided.",
      "nested_params": []
    },
    {
      "name": "accessConfig",
      "type": "dict",
      "required": false,
      "description": "The access configuration for the cluster. authenticationMode (string) --- The desired authentication mode for the cluster.",
      "nested_params": [
        {
          "name": "authenticationMode",
          "type": "string",
          "required": false,
          "description": "The desired authentication mode for the cluster.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "upgradePolicy",
      "type": "dict",
      "required": false,
      "description": "You can enable or disable extended support for clusters currently on standard support. You cannot disable extended support once it starts. You must enable extended support before your cluster exits standard support. supportType (string) --- If the cluster is set to EXTENDED, it will enter extended support at the end of standard support. If the cluster is set to STANDARD, it will be automatically upgraded at the end of standard support. Learn more about EKS Extended Support in the Amazon EKS User Guide.",
      "nested_params": [
        {
          "name": "supportType",
          "type": "string",
          "required": false,
          "description": "If the cluster is set to EXTENDED, it will enter extended support at the end of standard support. If the cluster is set to STANDARD, it will be automatically upgraded at the end of standard support. Learn more about EKS Extended Support in the Amazon EKS User Guide.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "zonalShiftConfig",
      "type": "dict",
      "required": false,
      "description": "Enable or disable ARC zonal shift for the cluster. If zonal shift is enabled, Amazon Web Services configures zonal autoshift for the cluster. Zonal shift is a feature of Amazon Application Recovery Controller (ARC). ARC zonal shift is designed to be a temporary measure that allows you to move traffic for a resource away from an impaired AZ until the zonal shift expires or you cancel it. You can extend the zonal shift if necessary. You can start a zonal shift for an EKS cluster, or you can allow Amazon Web Services to do it for you by enabling zonal autoshift. This shift updates the flow of east-to-west network traffic in your cluster to only consider network endpoints for Pods running on worker nodes in healthy AZs. Additionally, any ALB or NLB handling ingress traffic for applications in your EKS cluster will automatically route traffic to targets in the healthy AZs. For more information about zonal shift in EKS, see Learn about Amazon Application Recovery Controller (ARC) Zonal Shift in Amazon EKS in the Amazon EKS User Guide . enabled (boolean) --- If zonal shift is enabled, Amazon Web Services configures zonal autoshift for the cluster.",
      "nested_params": [
        {
          "name": "enabled",
          "type": "boolean",
          "required": false,
          "description": "If zonal shift is enabled, Amazon Web Services configures zonal autoshift for the cluster.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "computeConfig",
      "type": "dict",
      "required": false,
      "description": "Update the configuration of the compute capability of your EKS Auto Mode cluster. For example, enable the capability. enabled (boolean) --- Request to enable or disable the compute capability on your EKS Auto Mode cluster. If the compute capability is enabled, EKS Auto Mode will create and delete EC2 Managed Instances in your Amazon Web Services account. nodePools (list) --- Configuration for node pools that defines the compute resources for your EKS Auto Mode cluster. For more information, see EKS Auto Mode Node Pools in the Amazon EKS User Guide. (string) --- nodeRoleArn (string) --- The ARN of the IAM Role EKS will assign to EC2 Managed Instances in your EKS Auto Mode cluster. This value cannot be changed after the compute capability of EKS Auto Mode is enabled. For more information, see the IAM Reference in the Amazon EKS User Guide.",
      "nested_params": [
        {
          "name": "enabled",
          "type": "boolean",
          "required": false,
          "description": "Request to enable or disable the compute capability on your EKS Auto Mode cluster. If the compute capability is enabled, EKS Auto Mode will create and delete EC2 Managed Instances in your Amazon Web Services account.",
          "nested_params": []
        },
        {
          "name": "nodePools",
          "type": "list",
          "required": false,
          "description": "Configuration for node pools that defines the compute resources for your EKS Auto Mode cluster. For more information, see EKS Auto Mode Node Pools in the Amazon EKS User Guide.",
          "nested_params": []
        },
        {
          "name": "nodeRoleArn",
          "type": "string",
          "required": false,
          "description": "The ARN of the IAM Role EKS will assign to EC2 Managed Instances in your EKS Auto Mode cluster. This value cannot be changed after the compute capability of EKS Auto Mode is enabled. For more information, see the IAM Reference in the Amazon EKS User Guide.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "kubernetesNetworkConfig",
      "type": "dict",
      "required": false,
      "description": "The Kubernetes network configuration for the cluster. serviceIpv4Cidr (string) --- Don't specify a value if you select ipv6 for ipFamily. The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks. We recommend that you specify a block that does not overlap with resources in other networks that are peered or connected to your VPC. The block must meet the following requirements: Within one of the following private IP address blocks: 10.0.0.0/8, 172.16.0.0/12, or 192.168.0.0/16. Doesn't overlap with any CIDR block assigned to the VPC that you selected for VPC. Between /24 and /12. ipFamily (string) --- Specify which IP family is used to assign Kubernetes pod and service IP addresses. If you don't specify a value, ipv4 is used by default. You can only specify an IP family when you create a cluster and can't change this value once the cluster is created. If you specify ipv6, the VPC and subnets that you specify for cluster creation must have both IPv4 and IPv6 CIDR blocks assigned to them. You can't specify ipv6 for clusters in China Regions. You can only specify ipv6 for 1.21 and later clusters that use version 1.10.1 or later of the Amazon VPC CNI add-on. If you specify ipv6, then ensure that your VPC meets the requirements listed in the considerations listed in Assigning IPv6 addresses to pods and services in the Amazon EKS User Guide. Kubernetes assigns services IPv6 addresses from the unique local address range (fc00::/7). You can't specify a custom IPv6 CIDR block. Pod addresses are assigned from the subnet's IPv6 CIDR. elasticLoadBalancing (dict) --- Request to enable or disable the load balancing capability on your EKS Auto Mode cluster. For more information, see EKS Auto Mode load balancing capability in the Amazon EKS User Guide. enabled (boolean) --- Indicates if the load balancing capability is enabled on your EKS Auto Mode cluster. If the load balancing capability is enabled, EKS Auto Mode will create and delete load balancers in your Amazon Web Services account.",
      "nested_params": [
        {
          "name": "serviceIpv4Cidr",
          "type": "string",
          "required": false,
          "description": "",
          "nested_params": []
        },
        {
          "name": "ipFamily",
          "type": "string",
          "required": false,
          "description": "Specify which IP family is used to assign Kubernetes pod and service IP addresses. If you don't specify a value, ipv4 is used by default. You can only specify an IP family when you create a cluster and can't change this value once the cluster is created. If you specify ipv6, the VPC and subnets that you specify for cluster creation must have both IPv4 and IPv6 CIDR blocks assigned to them. You can't specify ipv6 for clusters in China Regions. You can only specify ipv6 for 1.21 and later clusters that use version 1.10.1 or later of the Amazon VPC CNI add-on. If you specify ipv6, then ensure that your VPC meets the requirements listed in the considerations listed in Assigning IPv6 addresses to pods and services in the Amazon EKS User Guide. Kubernetes assigns services IPv6 addresses from the unique local address range (fc00::/7). You can't specify a custom IPv6 CIDR block. Pod addresses are assigned from the subnet's IPv6 CIDR.",
          "nested_params": []
        },
        {
          "name": "elasticLoadBalancing",
          "type": "dict",
          "required": false,
          "description": "Request to enable or disable the load balancing capability on your EKS Auto Mode cluster. For more information, see EKS Auto Mode load balancing capability in the Amazon EKS User Guide.",
          "nested_params": [
            {
              "name": "enabled",
              "type": "boolean",
              "required": false,
              "description": "Indicates if the load balancing capability is enabled on your EKS Auto Mode cluster. If the load balancing capability is enabled, EKS Auto Mode will create and delete load balancers in your Amazon Web Services account.",
              "nested_params": []
            }
          ]
        }
      ]
    },
    {
      "name": "storageConfig",
      "type": "dict",
      "required": false,
      "description": "Update the configuration of the block storage capability of your EKS Auto Mode cluster. For example, enable the capability. blockStorage (dict) --- Request to configure EBS Block Storage settings for your EKS Auto Mode cluster. enabled (boolean) --- Indicates if the block storage capability is enabled on your EKS Auto Mode cluster. If the block storage capability is enabled, EKS Auto Mode will create and delete EBS volumes in your Amazon Web Services account.",
      "nested_params": [
        {
          "name": "blockStorage",
          "type": "dict",
          "required": false,
          "description": "Request to configure EBS Block Storage settings for your EKS Auto Mode cluster.",
          "nested_params": [
            {
              "name": "enabled",
              "type": "boolean",
              "required": false,
              "description": "Indicates if the block storage capability is enabled on your EKS Auto Mode cluster. If the block storage capability is enabled, EKS Auto Mode will create and delete EBS volumes in your Amazon Web Services account.",
              "nested_params": []
            }
          ]
        }
      ]
    },
    {
      "name": "remoteNetworkConfig",
      "type": "dict",
      "required": false,
      "description": "The configuration in the cluster for EKS Hybrid Nodes. You can add, change, or remove this configuration after the cluster is created. remoteNodeNetworks (list) --- The list of network CIDRs that can contain hybrid nodes. These CIDR blocks define the expected IP address range of the hybrid nodes that join the cluster. These blocks are typically determined by your network administrator. Enter one or more IPv4 CIDR blocks in decimal dotted-quad notation (for example, 10.2.0.0/16). It must satisfy the following requirements: Each block must be within an IPv4 RFC-1918 network range. Minimum allowed size is /24, maximum allowed size is /8. Publicly-routable addresses aren't supported. Each block cannot overlap with the range of the VPC CIDR blocks for your EKS resources, or the block of the Kubernetes service IP range. Each block must have a route to the VPC that uses the VPC CIDR blocks, not public IPs or Elastic IPs. There are many options including Transit Gateway, Site-to-Site VPN, or Direct Connect. Each host must allow outbound connection to the EKS cluster control plane on TCP ports 443 and 10250. Each host must allow inbound connection from the EKS cluster control plane on TCP port 10250 for logs, exec and port-forward operations. Each host must allow TCP and UDP network connectivity to and from other hosts that are running CoreDNS on UDP port 53 for service and pod DNS names. (dict) --- A network CIDR that can contain hybrid nodes. cidrs (list) --- A network CIDR that can contain hybrid nodes. (string) --- remotePodNetworks (list) --- The list of network CIDRs that can contain pods that run Kubernetes webhooks on hybrid nodes. These CIDR blocks are determined by configuring your Container Network Interface (CNI) plugin. We recommend the Calico CNI or Cilium CNI. Note that the Amazon VPC CNI plugin for Kubernetes isn't available for on-premises and edge locations. (dict) --- A network CIDR that can contain pods that run Kubernetes webhooks on hybrid nodes. cidrs (list) --- A network CIDR that can contain pods that run Kubernetes webhooks on hybrid nodes. (string) ---",
      "nested_params": [
        {
          "name": "remoteNodeNetworks",
          "type": "list",
          "required": false,
          "description": "The list of network CIDRs that can contain hybrid nodes. These CIDR blocks define the expected IP address range of the hybrid nodes that join the cluster. These blocks are typically determined by your network administrator. Enter one or more IPv4 CIDR blocks in decimal dotted-quad notation (for example, 10.2.0.0/16). It must satisfy the following requirements:",
          "nested_params": []
        },
        {
          "name": "remotePodNetworks",
          "type": "list",
          "required": false,
          "description": "The list of network CIDRs that can contain pods that run Kubernetes webhooks on hybrid nodes. These CIDR blocks are determined by configuring your Container Network Interface (CNI) plugin. We recommend the Calico CNI or Cilium CNI. Note that the Amazon VPC CNI plugin for Kubernetes isn't available for on-premises and edge locations. Enter one or more IPv4 CIDR blocks in decimal dotted-quad notation (for example, 10.2.0.0/16). It must satisfy the following requirements:",
          "nested_params": []
        }
      ]
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "",
          "type": "dict",
          "description": "",
          "nested_items": [
            {
              "name": "id",
              "type": "string",
              "description": "A UUID that is used to track the update.",
              "nested_items": []
            },
            {
              "name": "status",
              "type": "string",
              "description": "The current status of the update.",
              "nested_items": []
            },
            {
              "name": "type",
              "type": "string",
              "description": "The type of the update.",
              "nested_items": []
            },
            {
              "name": "params",
              "type": "list",
              "description": "A key-value map that contains the parameters associated with the update.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "type",
                      "type": "string",
                      "description": "The keys associated with an update request.",
                      "nested_items": []
                    },
                    {
                      "name": "value",
                      "type": "string",
                      "description": "The value of the keys submitted as part of an update request.",
                      "nested_items": []
                    }
                  ]
                }
              ]
            },
            {
              "name": "createdAt",
              "type": "datetime",
              "description": "The Unix epoch timestamp at object creation.",
              "nested_items": []
            },
            {
              "name": "errors",
              "type": "list",
              "description": "Any errors associated with a Failed update.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "errorCode",
                      "type": "string",
                      "description": "A brief description of the error.",
                      "nested_items": [
                        {
                          "name": "SubnetNotFound",
                          "type": "",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "SecurityGroupNotFound",
                          "type": "",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "EniLimitReached",
                          "type": "",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "IpNotAvailable",
                          "type": "",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "AccessDenied",
                          "type": "",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "OperationNotPermitted",
                          "type": "",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "VpcIdNotFound",
                          "type": "",
                          "description": "",
                          "nested_items": []
                        }
                      ]
                    },
                    {
                      "name": "errorMessage",
                      "type": "string",
                      "description": "A more complete description of the error.",
                      "nested_items": []
                    },
                    {
                      "name": "resourceIds",
                      "type": "list",
                      "description": "An optional field that contains the resource IDs associated with the error.",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "string",
                          "description": "(string) ---",
                          "nested_items": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
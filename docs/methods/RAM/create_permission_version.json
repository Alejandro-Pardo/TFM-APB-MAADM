{
  "method_name": "create_permission_version",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ram/client/create_permission_version.html",
  "description": "Creates a new version of the specified customer managed permission. The new version is automatically set as the default version of the customer managed permission. New resource shares automatically use the default permission. Existing resource shares continue to use their original permission versions, but you can use  ReplacePermissionAssociations to update them. If the specified customer managed permission already has the maximum of 5 versions, then you must delete one of the existing versions before you can create a new one.",
  "parameters": [
    {
      "name": "permissionArn",
      "type": "string",
      "required": true,
      "description": "Specifies the Amazon Resource Name (ARN) of the customer managed permission you're creating a new version for.",
      "nested_params": []
    },
    {
      "name": "policyTemplate",
      "type": "string",
      "required": true,
      "description": "A string in JSON format string that contains the following elements of a resource-based policy: Effect: must be set to ALLOW. Action: specifies the actions that are allowed by this customer managed permission. The list must contain only actions that are supported by the specified resource type. For a list of all actions supported by each resource type, see Actions, resources, and condition keys for Amazon Web Services services in the Identity and Access Management User Guide. Condition: (optional) specifies conditional parameters that must evaluate to true when a user attempts an action for that action to be allowed. For more information about the Condition element, see IAM policies: Condition element in the Identity and Access Management User Guide. This template can't include either the Resource or Principal elements. Those are both filled in by RAM when it instantiates the resource-based policy on each resource shared using this managed permission. The Resource comes from the ARN of the specific resource that you are sharing. The Principal comes from the list of identities added to the resource share.",
      "nested_params": [
        {
          "name": "Effect",
          "type": "",
          "required": false,
          "description": "",
          "nested_params": []
        },
        {
          "name": "Condition",
          "type": "optional",
          "required": false,
          "description": "",
          "nested_params": []
        }
      ]
    },
    {
      "name": "clientToken",
      "type": "string",
      "required": false,
      "description": "Specifies a unique, case-sensitive identifier that you provide to ensure the idempotency of the request. This lets you safely retry the request without accidentally performing the same operation a second time. Passing the same value to a later call to an operation requires that you also pass the same value for all other parameters. We recommend that you use a UUID type of value.. If you don't provide this value, then Amazon Web Services generates a random one for you. If you retry the operation with the same ClientToken, but with different parameters, the retry fails with an IdempotentParameterMismatch error.",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "permission",
          "type": "dict",
          "description": "Information about a RAM managed permission.",
          "nested_items": [
            {
              "name": "arn",
              "type": "string",
              "description": "The Amazon Resource Name (ARN) of this RAM managed permission.",
              "nested_items": []
            },
            {
              "name": "version",
              "type": "string",
              "description": "The version of the permission described in this response.",
              "nested_items": []
            },
            {
              "name": "defaultVersion",
              "type": "boolean",
              "description": "Specifies whether the version of the permission represented in this response is the default version for this permission.",
              "nested_items": []
            },
            {
              "name": "name",
              "type": "string",
              "description": "The name of this permission.",
              "nested_items": []
            },
            {
              "name": "resourceType",
              "type": "string",
              "description": "The resource type to which this permission applies.",
              "nested_items": []
            },
            {
              "name": "permission",
              "type": "string",
              "description": "The permission's effect and actions in JSON format. The effect indicates whether the specified actions are allowed or denied. The actions list the operations to which the principal is granted or denied access.",
              "nested_items": []
            },
            {
              "name": "creationTime",
              "type": "datetime",
              "description": "The date and time when the permission was created.",
              "nested_items": []
            },
            {
              "name": "lastUpdatedTime",
              "type": "datetime",
              "description": "The date and time when the permission was last updated.",
              "nested_items": []
            },
            {
              "name": "isResourceTypeDefault",
              "type": "boolean",
              "description": "Specifies whether the version of the permission represented in this response is the default version for all resources of this resource type.",
              "nested_items": []
            },
            {
              "name": "permissionType",
              "type": "string",
              "description": "The type of managed permission. This can be one of the following values:",
              "nested_items": [
                {
                  "name": "",
                  "type": "",
                  "description": "AWS_MANAGED --- Amazon Web Services created and manages this managed permission. You can associate it with your resource shares, but you can't modify it.",
                  "nested_items": []
                },
                {
                  "name": "",
                  "type": "",
                  "description": "CUSTOMER_MANAGED --- You, or another principal in your account created this managed permission. You can associate it with your resource shares and create new versions that have different permissions.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "featureSet",
              "type": "string",
              "description": "Indicates what features are available for this resource share. This parameter can have one of the following values:",
              "nested_items": [
                {
                  "name": "STANDARD",
                  "type": "",
                  "description": "",
                  "nested_items": []
                },
                {
                  "name": "CREATED_FROM_POLICY",
                  "type": "",
                  "description": "",
                  "nested_items": []
                },
                {
                  "name": "PROMOTING_TO_STANDARD",
                  "type": "",
                  "description": "",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "status",
              "type": "string",
              "description": "The current status of the association between the permission and the resource share. The following are the possible values:",
              "nested_items": [
                {
                  "name": "",
                  "type": "",
                  "description": "ATTACHABLE --- This permission or version can be associated with resource shares.",
                  "nested_items": []
                },
                {
                  "name": "",
                  "type": "",
                  "description": "UNATTACHABLE --- This permission or version can't currently be associated with resource shares.",
                  "nested_items": []
                },
                {
                  "name": "",
                  "type": "",
                  "description": "DELETING --- This permission or version is in the process of being deleted.",
                  "nested_items": []
                },
                {
                  "name": "",
                  "type": "",
                  "description": "DELETED --- This permission or version is deleted.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "tags",
              "type": "list",
              "description": "The tag key and value pairs attached to the resource share.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "key",
                      "type": "string",
                      "description": "The key, or name, attached to the tag. Every tag must have a key. Key names are case sensitive.",
                      "nested_items": []
                    },
                    {
                      "name": "value",
                      "type": "string",
                      "description": "The string value attached to the tag. The value can be an empty string. Key values are case sensitive.",
                      "nested_items": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "clientToken",
          "type": "string",
          "description": "The idempotency identifier associated with this request. If you want to repeat the same operation in an idempotent manner then you must include this value in the clientToken request parameter of that later call. All other parameters must also have the same values that you used in the first call.",
          "nested_items": []
        }
      ]
    }
  ]
}
{
  "method_name": "write_records",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/timestream-write/client/write_records.html",
  "description": "Enables you to write your time-series data into Timestream. You can specify a single data point or a batch of data points to be inserted into the system. Timestream offers you a flexible schema that auto detects the column names and data types for your Timestream tables based on the dimension names and data types of the data points you specify when invoking writes into the database. Timestream supports eventual consistency read semantics. This means that when you query data immediately after writing a batch of data into Timestream, the query results might not reflect the results of a recently completed write operation. The results may also include some stale data. If you repeat the query request after a short time, the results should return the latest data. Service quotas apply. See code sample for details. You can use the Version parameter in a WriteRecords request to update data points. Timestream tracks a version number with each record. Version defaults to 1 when it's not specified for the record in the request. Timestream updates an existing record's measure value along with its Version when it receives a write request with a higher Version number for that record. When it receives an update request where the measure value is the same as that of the existing record, Timestream still updates Version, if it is greater than the existing value of Version. You can update a data point as many times as desired, as long as the value of Version continuously increases. For example, suppose you write a new record without indicating Version in the request. Timestream stores this record, and set Version to 1. Now, suppose you try to update this record with a WriteRecords request of the same record with a different measure value but, like before, do not provide Version. In this case, Timestream will reject this update with a RejectedRecordsException since the updated record's version is not greater than the existing value of Version. However, if you were to resend the update request with Version set to 2, Timestream would then succeed in updating the record's value, and the Version would be set to 2. Next, suppose you sent a WriteRecords request with this same record and an identical measure value, but with Version set to 3. In this case, Timestream would only update Version to 3. Any further updates would need to send a version number greater than 3, or the update requests would receive a RejectedRecordsException.",
  "parameters": [
    {
      "name": "DatabaseName",
      "type": "string",
      "required": true,
      "description": "The name of the Timestream database.",
      "nested_params": []
    },
    {
      "name": "TableName",
      "type": "string",
      "required": true,
      "description": "The name of the Timestream table.",
      "nested_params": []
    },
    {
      "name": "CommonAttributes",
      "type": "dict",
      "required": true,
      "description": "A record that contains the common measure, dimension, time, and version attributes shared across all the records in the request. The measure and dimension attributes specified will be merged with the measure and dimension attributes in the records object when the data is written into Timestream. Dimensions may not overlap, or a ValidationException will be thrown. In other words, a record must contain dimensions with unique names. Dimensions (list) --- Contains the list of dimensions for time-series data points. (dict) --- Represents the metadata attributes of the time series. For example, the name and Availability Zone of an EC2 instance or the name of the manufacturer of a wind turbine are dimensions. Dimension represents the metadata attributes of the time series. For constraints on dimension names, see Naming Constraints. The value of the dimension. DimensionValueType (string) --- The data type of the dimension for the time-series data point. MeasureName (string) --- Measure represents the data attribute of the time series. For example, the CPU utilization of an EC2 instance or the RPM of a wind turbine are measures. MeasureValue (string) --- Contains the measure value for the time-series data point. MeasureValueType (string) --- Contains the data type of the measure value for the time-series data point. Default type is DOUBLE. For more information, see Data types. Time (string) --- Contains the time at which the measure value for the data point was collected. The time value plus the unit provides the time elapsed since the epoch. For example, if the time value is 12345 and the unit is ms, then 12345 ms have elapsed since the epoch. TimeUnit (string) --- The granularity of the timestamp unit. It indicates if the time value is in seconds, milliseconds, nanoseconds, or other supported values. Default is MILLISECONDS. Version (integer) --- 64-bit attribute used for record updates. Write requests for duplicate data with a higher version number will update the existing measure value and version. In cases where the measure value is the same, Version will still be updated. Default value is 1. MeasureValues (list) --- Contains the list of MeasureValue for time-series data points. This is only allowed for type MULTI. For scalar values, use MeasureValue attribute of the record directly. (dict) --- Represents the data attribute of the time series. MeasureValue has both name and value. MeasureValue is only allowed for type MULTI. Using MULTI type, you can pass multiple data attributes associated with the same time series in a single record The name of the MeasureValue. For constraints on MeasureValue names, see Naming Constraints in the Amazon Timestream Developer Guide. The value for the MeasureValue. For information, see Data types. Contains the data type of the MeasureValue for the time-series data point.",
      "nested_params": [
        {
          "name": "Dimensions",
          "type": "list",
          "required": false,
          "description": "Contains the list of dimensions for time-series data points.",
          "nested_params": [
            {
              "name": "Name",
              "type": "string",
              "required": false,
              "description": "Dimension represents the metadata attributes of the time series. For example, the name and Availability Zone of an EC2 instance or the name of the manufacturer of a wind turbine are dimensions. For constraints on dimension names, see Naming Constraints.",
              "nested_params": []
            },
            {
              "name": "Value",
              "type": "string",
              "required": false,
              "description": "The value of the dimension.",
              "nested_params": []
            },
            {
              "name": "DimensionValueType",
              "type": "string",
              "required": false,
              "description": "The data type of the dimension for the time-series data point.",
              "nested_params": []
            }
          ]
        },
        {
          "name": "MeasureName",
          "type": "string",
          "required": false,
          "description": "Measure represents the data attribute of the time series. For example, the CPU utilization of an EC2 instance or the RPM of a wind turbine are measures.",
          "nested_params": []
        },
        {
          "name": "MeasureValue",
          "type": "string",
          "required": false,
          "description": "Contains the measure value for the time-series data point.",
          "nested_params": []
        },
        {
          "name": "MeasureValueType",
          "type": "string",
          "required": false,
          "description": "Contains the data type of the measure value for the time-series data point. Default type is DOUBLE. For more information, see Data types.",
          "nested_params": []
        },
        {
          "name": "Time",
          "type": "string",
          "required": false,
          "description": "Contains the time at which the measure value for the data point was collected. The time value plus the unit provides the time elapsed since the epoch. For example, if the time value is 12345 and the unit is ms, then 12345 ms have elapsed since the epoch.",
          "nested_params": []
        },
        {
          "name": "TimeUnit",
          "type": "string",
          "required": false,
          "description": "The granularity of the timestamp unit. It indicates if the time value is in seconds, milliseconds, nanoseconds, or other supported values. Default is MILLISECONDS.",
          "nested_params": []
        },
        {
          "name": "Version",
          "type": "integer",
          "required": false,
          "description": "64-bit attribute used for record updates. Write requests for duplicate data with a higher version number will update the existing measure value and version. In cases where the measure value is the same, Version will still be updated. Default value is 1.",
          "nested_params": []
        },
        {
          "name": "MeasureValues",
          "type": "list",
          "required": false,
          "description": "Contains the list of MeasureValue for time-series data points. This is only allowed for type MULTI. For scalar values, use MeasureValue attribute of the record directly.",
          "nested_params": [
            {
              "name": "Name",
              "type": "string",
              "required": false,
              "description": "The name of the MeasureValue. For constraints on MeasureValue names, see Naming Constraints in the Amazon Timestream Developer Guide.",
              "nested_params": []
            },
            {
              "name": "Value",
              "type": "string",
              "required": false,
              "description": "The value for the MeasureValue. For information, see Data types.",
              "nested_params": []
            },
            {
              "name": "Type",
              "type": "string",
              "required": false,
              "description": "Contains the data type of the MeasureValue for the time-series data point.",
              "nested_params": []
            }
          ]
        }
      ]
    },
    {
      "name": "Records",
      "type": "list",
      "required": true,
      "description": "An array of records that contain the unique measure, dimension, time, and version attributes for each time-series data point. (dict) --- Represents a time-series data point being written into Timestream. Each record contains an array of dimensions. Dimensions represent the metadata attributes of a time-series data point, such as the instance name or Availability Zone of an EC2 instance. A record also contains the measure name, which is the name of the measure being collected (for example, the CPU utilization of an EC2 instance). Additionally, a record contains the measure value and the value type, which is the data type of the measure value. Also, the record contains the timestamp of when the measure was collected and the timestamp unit, which represents the granularity of the timestamp. Records have a Version field, which is a 64-bit long that you can use for updating data points. Writes of a duplicate record with the same dimension, timestamp, and measure name but different measure value will only succeed if the Version attribute of the record in the write request is higher than that of the existing record. Timestream defaults to a Version of 1 for records without the Version field. Dimensions (list) --- Contains the list of dimensions for time-series data points. (dict) --- Represents the metadata attributes of the time series. For example, the name and Availability Zone of an EC2 instance or the name of the manufacturer of a wind turbine are dimensions. Dimension represents the metadata attributes of the time series. For constraints on dimension names, see Naming Constraints. The value of the dimension. DimensionValueType (string) --- The data type of the dimension for the time-series data point. MeasureName (string) --- Measure represents the data attribute of the time series. For example, the CPU utilization of an EC2 instance or the RPM of a wind turbine are measures. MeasureValue (string) --- Contains the measure value for the time-series data point. MeasureValueType (string) --- Contains the data type of the measure value for the time-series data point. Default type is DOUBLE. For more information, see Data types. Time (string) --- Contains the time at which the measure value for the data point was collected. The time value plus the unit provides the time elapsed since the epoch. For example, if the time value is 12345 and the unit is ms, then 12345 ms have elapsed since the epoch. TimeUnit (string) --- The granularity of the timestamp unit. It indicates if the time value is in seconds, milliseconds, nanoseconds, or other supported values. Default is MILLISECONDS. Version (integer) --- 64-bit attribute used for record updates. Write requests for duplicate data with a higher version number will update the existing measure value and version. In cases where the measure value is the same, Version will still be updated. Default value is 1. MeasureValues (list) --- Contains the list of MeasureValue for time-series data points. This is only allowed for type MULTI. For scalar values, use MeasureValue attribute of the record directly. (dict) --- Represents the data attribute of the time series. MeasureValue has both name and value. MeasureValue is only allowed for type MULTI. Using MULTI type, you can pass multiple data attributes associated with the same time series in a single record The name of the MeasureValue. For constraints on MeasureValue names, see Naming Constraints in the Amazon Timestream Developer Guide. The value for the MeasureValue. For information, see Data types. Contains the data type of the MeasureValue for the time-series data point.",
      "nested_params": [
        {
          "name": "Dimensions",
          "type": "list",
          "required": false,
          "description": "Contains the list of dimensions for time-series data points.",
          "nested_params": [
            {
              "name": "Name",
              "type": "string",
              "required": false,
              "description": "Dimension represents the metadata attributes of the time series. For example, the name and Availability Zone of an EC2 instance or the name of the manufacturer of a wind turbine are dimensions. For constraints on dimension names, see Naming Constraints.",
              "nested_params": []
            },
            {
              "name": "Value",
              "type": "string",
              "required": false,
              "description": "The value of the dimension.",
              "nested_params": []
            },
            {
              "name": "DimensionValueType",
              "type": "string",
              "required": false,
              "description": "The data type of the dimension for the time-series data point.",
              "nested_params": []
            }
          ]
        },
        {
          "name": "MeasureName",
          "type": "string",
          "required": false,
          "description": "Measure represents the data attribute of the time series. For example, the CPU utilization of an EC2 instance or the RPM of a wind turbine are measures.",
          "nested_params": []
        },
        {
          "name": "MeasureValue",
          "type": "string",
          "required": false,
          "description": "Contains the measure value for the time-series data point.",
          "nested_params": []
        },
        {
          "name": "MeasureValueType",
          "type": "string",
          "required": false,
          "description": "Contains the data type of the measure value for the time-series data point. Default type is DOUBLE. For more information, see Data types.",
          "nested_params": []
        },
        {
          "name": "Time",
          "type": "string",
          "required": false,
          "description": "Contains the time at which the measure value for the data point was collected. The time value plus the unit provides the time elapsed since the epoch. For example, if the time value is 12345 and the unit is ms, then 12345 ms have elapsed since the epoch.",
          "nested_params": []
        },
        {
          "name": "TimeUnit",
          "type": "string",
          "required": false,
          "description": "The granularity of the timestamp unit. It indicates if the time value is in seconds, milliseconds, nanoseconds, or other supported values. Default is MILLISECONDS.",
          "nested_params": []
        },
        {
          "name": "Version",
          "type": "integer",
          "required": false,
          "description": "64-bit attribute used for record updates. Write requests for duplicate data with a higher version number will update the existing measure value and version. In cases where the measure value is the same, Version will still be updated. Default value is 1.",
          "nested_params": []
        },
        {
          "name": "MeasureValues",
          "type": "list",
          "required": false,
          "description": "Contains the list of MeasureValue for time-series data points. This is only allowed for type MULTI. For scalar values, use MeasureValue attribute of the record directly.",
          "nested_params": [
            {
              "name": "Name",
              "type": "string",
              "required": false,
              "description": "The name of the MeasureValue. For constraints on MeasureValue names, see Naming Constraints in the Amazon Timestream Developer Guide.",
              "nested_params": []
            },
            {
              "name": "Value",
              "type": "string",
              "required": false,
              "description": "The value for the MeasureValue. For information, see Data types.",
              "nested_params": []
            },
            {
              "name": "Type",
              "type": "string",
              "required": false,
              "description": "Contains the data type of the MeasureValue for the time-series data point.",
              "nested_params": []
            }
          ]
        }
      ]
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "RecordsIngested",
          "type": "dict",
          "description": "Information on the records ingested by this request.",
          "nested_items": [
            {
              "name": "Total",
              "type": "integer",
              "description": "Total count of successfully ingested records.",
              "nested_items": []
            },
            {
              "name": "MemoryStore",
              "type": "integer",
              "description": "Count of records ingested into the memory store.",
              "nested_items": []
            },
            {
              "name": "MagneticStore",
              "type": "integer",
              "description": "Count of records ingested into the magnetic store.",
              "nested_items": []
            }
          ]
        }
      ]
    }
  ]
}
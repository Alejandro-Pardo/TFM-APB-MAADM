{
  "method_name": "invoke_flow",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-agent-runtime/client/invoke_flow.html",
  "description": "Invokes an alias of a flow to run the inputs that you specify and return the output of each node as a stream. If there's an error, the error is returned. For more information, see Test a flow in Amazon Bedrock in the Amazon Bedrock User Guide.",
  "parameters": [
    {
      "name": "enableTrace",
      "type": "boolean",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "executionId",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    },
    {
      "name": "flowAliasIdentifier",
      "type": "string",
      "required": true,
      "description": "The unique identifier of the flow alias.",
      "nested_params": []
    },
    {
      "name": "flowIdentifier",
      "type": "string",
      "required": true,
      "description": "The unique identifier of the flow.",
      "nested_params": []
    },
    {
      "name": "inputs",
      "type": "list",
      "required": true,
      "description": "A list of objects, each containing information about an input into the flow. (dict) --- Contains information about an input into the prompt flow and where to send it. Contains information about an input into the prompt flow. document (document) --- The input to send to the prompt flow input node. nodeInputName (string) --- The name of the input from the flow input node. The name of the flow input node that begins the prompt flow. nodeOutputName (string) --- The name of the output from the flow input node that begins the prompt flow.",
      "nested_params": [
        {
          "name": "content",
          "type": "dict",
          "required": false,
          "description": "Contains information about an input into the prompt flow.",
          "nested_params": [
            {
              "name": "document",
              "type": "document",
              "required": false,
              "description": "The input to send to the prompt flow input node.",
              "nested_params": []
            }
          ]
        },
        {
          "name": "nodeInputName",
          "type": "string",
          "required": false,
          "description": "The name of the input from the flow input node.",
          "nested_params": []
        },
        {
          "name": "nodeName",
          "type": "string",
          "required": false,
          "description": "The name of the flow input node that begins the prompt flow.",
          "nested_params": []
        },
        {
          "name": "nodeOutputName",
          "type": "string",
          "required": false,
          "description": "The name of the output from the flow input node that begins the prompt flow.",
          "nested_params": []
        }
      ]
    },
    {
      "name": "modelPerformanceConfiguration",
      "type": "dict",
      "required": false,
      "description": "Model performance settings for the request. performanceConfig (dict) --- The latency configuration for the model. latency (string) --- To use a latency-optimized version of the model, set to optimized.",
      "nested_params": [
        {
          "name": "performanceConfig",
          "type": "dict",
          "required": false,
          "description": "The latency configuration for the model.",
          "nested_params": [
            {
              "name": "latency",
              "type": "string",
              "required": false,
              "description": "To use a latency-optimized version of the model, set to optimized.",
              "nested_params": []
            }
          ]
        }
      ]
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "executionId",
          "type": "string",
          "description": "The unique identifier for the current flow execution.",
          "nested_items": []
        },
        {
          "name": "responseStream",
          "type": "EventStream",
          "description": "The output of the flow, returned as a stream. If there's an error, the error is returned.",
          "nested_items": [
            {
              "name": "accessDeniedException",
              "type": "dict",
              "description": "The request is denied because of missing access permissions. Check your permissions and retry your request.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "badGatewayException",
              "type": "dict",
              "description": "There was an issue with a dependency due to a server issue. Retry your request.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                },
                {
                  "name": "resourceName",
                  "type": "string",
                  "description": "The name of the dependency that caused the issue, such as Amazon Bedrock, Lambda, or STS.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "conflictException",
              "type": "dict",
              "description": "There was a conflict performing an operation. Resolve the conflict and retry your request.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "dependencyFailedException",
              "type": "dict",
              "description": "There was an issue with a dependency. Check the resource configurations and retry the request.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                },
                {
                  "name": "resourceName",
                  "type": "string",
                  "description": "The name of the dependency that caused the issue, such as Amazon Bedrock, Lambda, or STS.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "flowCompletionEvent",
              "type": "dict",
              "description": "Contains information about why the flow completed.",
              "nested_items": [
                {
                  "name": "completionReason",
                  "type": "string",
                  "description": "The reason that the flow completed.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "flowMultiTurnInputRequestEvent",
              "type": "dict",
              "description": "The event stream containing the multi-turn input request information from the flow.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "document",
                      "type": "document",
                      "description": "The requested additional input to send back to the multi-turn flow node.",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "nodeName",
                  "type": "string",
                  "description": "The name of the node in the flow that is requesting the input.",
                  "nested_items": []
                },
                {
                  "name": "nodeType",
                  "type": "string",
                  "description": "The type of the node in the flow that is requesting the input.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "flowOutputEvent",
              "type": "dict",
              "description": "Contains information about an output from flow invocation.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "document",
                      "type": "document",
                      "description": "The content in the output.",
                      "nested_items": []
                    }
                  ]
                },
                {
                  "name": "nodeName",
                  "type": "string",
                  "description": "The name of the flow output node that the output is from.",
                  "nested_items": []
                },
                {
                  "name": "nodeType",
                  "type": "string",
                  "description": "The type of the node that the output is from.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "flowTraceEvent",
              "type": "dict",
              "description": "Contains information about a trace, which tracks an input or output for a node in the flow.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "conditionNodeResultTrace",
                      "type": "dict",
                      "description": "Contains information about an output from a condition node.",
                      "nested_items": [
                        {
                          "name": "nodeName",
                          "type": "string",
                          "description": "The name of the condition node.",
                          "nested_items": []
                        },
                        {
                          "name": "satisfiedConditions",
                          "type": "list",
                          "description": "An array of objects containing information about the conditions that were satisfied.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "dict",
                              "description": "",
                              "nested_items": [
                                {
                                  "name": "conditionName",
                                  "type": "string",
                                  "description": "The name of the condition.",
                                  "nested_items": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "timestamp",
                          "type": "datetime",
                          "description": "The date and time that the trace was returned.",
                          "nested_items": []
                        }
                      ]
                    },
                    {
                      "name": "nodeActionTrace",
                      "type": "dict",
                      "description": "Contains information about an action (operation) called by a node. For more information, see Track each step in your prompt flow by viewing its trace in Amazon Bedrock.",
                      "nested_items": [
                        {
                          "name": "nodeName",
                          "type": "string",
                          "description": "The name of the node that called the operation.",
                          "nested_items": []
                        },
                        {
                          "name": "operationName",
                          "type": "string",
                          "description": "The name of the operation that the node called.",
                          "nested_items": []
                        },
                        {
                          "name": "requestId",
                          "type": "string",
                          "description": "The ID of the request that the node made to the operation.",
                          "nested_items": []
                        },
                        {
                          "name": "serviceName",
                          "type": "string",
                          "description": "The name of the service that the node called.",
                          "nested_items": []
                        },
                        {
                          "name": "timestamp",
                          "type": "datetime",
                          "description": "The date and time that the operation was called.",
                          "nested_items": []
                        }
                      ]
                    },
                    {
                      "name": "nodeInputTrace",
                      "type": "dict",
                      "description": "Contains information about the input into a node.",
                      "nested_items": [
                        {
                          "name": "fields",
                          "type": "list",
                          "description": "An array of objects containing information about each field in the input.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "dict",
                              "description": "",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "document",
                                      "type": "document",
                                      "description": "The content of the node input.",
                                      "nested_items": []
                                    }
                                  ]
                                },
                                {
                                  "name": "nodeInputName",
                                  "type": "string",
                                  "description": "The name of the node input.",
                                  "nested_items": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "nodeName",
                          "type": "string",
                          "description": "The name of the node that received the input.",
                          "nested_items": []
                        },
                        {
                          "name": "timestamp",
                          "type": "datetime",
                          "description": "The date and time that the trace was returned.",
                          "nested_items": []
                        }
                      ]
                    },
                    {
                      "name": "nodeOutputTrace",
                      "type": "dict",
                      "description": "Contains information about the output from a node.",
                      "nested_items": [
                        {
                          "name": "fields",
                          "type": "list",
                          "description": "An array of objects containing information about each field in the output.",
                          "nested_items": [
                            {
                              "name": "",
                              "type": "dict",
                              "description": "",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "document",
                                      "type": "document",
                                      "description": "The content of the node output.",
                                      "nested_items": []
                                    }
                                  ]
                                },
                                {
                                  "name": "nodeOutputName",
                                  "type": "string",
                                  "description": "The name of the node output.",
                                  "nested_items": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "nodeName",
                          "type": "string",
                          "description": "The name of the node that yielded the output.",
                          "nested_items": []
                        },
                        {
                          "name": "timestamp",
                          "type": "datetime",
                          "description": "The date and time that the trace was returned.",
                          "nested_items": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "internalServerException",
              "type": "dict",
              "description": "An internal server error occurred. Retry your request.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                },
                {
                  "name": "reason",
                  "type": "string",
                  "description": "The reason for the exception. If the reason is BEDROCK_MODEL_INVOCATION_SERVICE_UNAVAILABLE, the model invocation service is unavailable. Retry your request.",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "resourceNotFoundException",
              "type": "dict",
              "description": "The specified resource Amazon Resource Name (ARN) was not found. Check the Amazon Resource Name (ARN) and try your request again.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "serviceQuotaExceededException",
              "type": "dict",
              "description": "The number of requests exceeds the service quota. Resubmit your request later.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "throttlingException",
              "type": "dict",
              "description": "The number of requests exceeds the limit. Resubmit your request later.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                }
              ]
            },
            {
              "name": "validationException",
              "type": "dict",
              "description": "Input validation failed. Check your request parameters and retry the request.",
              "nested_items": [
                {
                  "name": "message",
                  "type": "string",
                  "description": "",
                  "nested_items": []
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
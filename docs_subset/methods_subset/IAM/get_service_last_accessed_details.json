{
  "method_name": "get_service_last_accessed_details",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/iam/client/get_service_last_accessed_details.html",
  "description": "Retrieves a service last accessed report that was created using the GenerateServiceLastAccessedDetails operation. You can use the JobId parameter in GetServiceLastAccessedDetails to retrieve the status of your report job. When the report is complete, you can retrieve the generated report. The report includes a list of Amazon Web Services services that the resource (user, group, role, or managed policy) can access. For each service that the resource could access using permissions policies, the operation returns details about the most recent access attempt. If there was no attempt, the service is listed without details about the most recent attempt to access the service. If the operation fails, the GetServiceLastAccessedDetails operation returns the reason that it failed. The GetServiceLastAccessedDetails operation returns a list of services. This list includes the number of entities that have attempted to access the service and the date and time of the last attempt. It also returns the ARN of the following entity, depending on the resource ARN that you used to generate the report: By default, the list is sorted by service namespace. If you specified ACTION_LEVEL granularity when you generated the report, this operation returns service and action last accessed data. This includes the most recent access attempt for each tracked action within a service. Otherwise, this operation returns only service data. For more information about service and action last accessed data, see Reducing permissions using service last accessed data in the IAM User Guide.",
  "parameters": [
    {
      "name": "JobId",
      "type": "string",
      "required": true,
      "description": "The ID of the request generated by the  GenerateServiceLastAccessedDetails operation. The JobId returned by GenerateServiceLastAccessedDetail must be used by the same role within a session, or by the same user when used to call GetServiceLastAccessedDetail.",
      "nested_params": []
    },
    {
      "name": "MaxItems",
      "type": "integer",
      "required": false,
      "description": "Use this only when paginating results to indicate the maximum number of items you want in the response. If additional items exist beyond the maximum you specify, the IsTruncated response element is true. If you do not include this parameter, the number of items defaults to 100. Note that IAM might return fewer results, even when there are more results available. In that case, the IsTruncated response element returns true, and Marker contains a value to include in the subsequent call that tells the service where to continue from.",
      "nested_params": []
    },
    {
      "name": "Marker",
      "type": "string",
      "required": false,
      "description": "",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "JobStatus",
          "type": "string",
          "description": "The status of the job.",
          "nested_items": []
        },
        {
          "name": "JobType",
          "type": "string",
          "description": "The type of job. Service jobs return information about when each service was last accessed. Action jobs also include information about when tracked actions within the service were last accessed.",
          "nested_items": []
        },
        {
          "name": "JobCreationDate",
          "type": "datetime",
          "description": "The date and time, in\u00c2\u00a0 ISO 8601 date-time format, when the report job was created.",
          "nested_items": []
        },
        {
          "name": "ServicesLastAccessed",
          "type": "list",
          "description": "A\u00c2\u00a0 ServiceLastAccessed object that contains details about the most recent attempt to access the service.",
          "nested_items": [
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "ServiceName",
                  "type": "string",
                  "description": "The name of the service in which access was attempted.",
                  "nested_items": []
                },
                {
                  "name": "LastAuthenticated",
                  "type": "datetime",
                  "description": "The date and time, in\u00c2\u00a0 ISO 8601 date-time format, when an authenticated entity most recently attempted to access the service. Amazon Web Services does not report unauthenticated requests.",
                  "nested_items": []
                },
                {
                  "name": "ServiceNamespace",
                  "type": "string",
                  "description": "The namespace of the service in which access was attempted.",
                  "nested_items": []
                },
                {
                  "name": "LastAuthenticatedEntity",
                  "type": "string",
                  "description": "The ARN of the authenticated entity (user or role) that last attempted to access the service. Amazon Web Services does not report unauthenticated requests.",
                  "nested_items": []
                },
                {
                  "name": "LastAuthenticatedRegion",
                  "type": "string",
                  "description": "The Region from which the authenticated entity (user or role) last attempted to access the service. Amazon Web Services does not report unauthenticated requests.",
                  "nested_items": []
                },
                {
                  "name": "TotalAuthenticatedEntities",
                  "type": "integer",
                  "description": "The total number of authenticated principals (root user, IAM users, or IAM roles) that have attempted to access the service.",
                  "nested_items": []
                },
                {
                  "name": "TrackedActionsLastAccessed",
                  "type": "list",
                  "description": "An object that contains details about the most recent attempt to access a tracked action within the service.",
                  "nested_items": [
                    {
                      "name": "",
                      "type": "dict",
                      "description": "",
                      "nested_items": [
                        {
                          "name": "ActionName",
                          "type": "string",
                          "description": "The name of the tracked action to which access was attempted. Tracked actions are actions that report activity to IAM.",
                          "nested_items": []
                        },
                        {
                          "name": "LastAccessedEntity",
                          "type": "string",
                          "description": "The Amazon Resource Name (ARN). ARNs are unique identifiers for Amazon Web Services resources.",
                          "nested_items": []
                        },
                        {
                          "name": "LastAccessedTime",
                          "type": "datetime",
                          "description": "The date and time, in\u00c2\u00a0 ISO 8601 date-time format, when an authenticated entity most recently attempted to access the tracked service. Amazon Web Services does not report unauthenticated requests.",
                          "nested_items": []
                        },
                        {
                          "name": "LastAccessedRegion",
                          "type": "string",
                          "description": "The Region from which the authenticated entity (user or role) last attempted to access the tracked action. Amazon Web Services does not report unauthenticated requests.",
                          "nested_items": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "JobCompletionDate",
          "type": "datetime",
          "description": "The date and time, in\u00c2\u00a0 ISO 8601 date-time format, when the generated report job was completed or failed.",
          "nested_items": []
        },
        {
          "name": "IsTruncated",
          "type": "boolean",
          "description": "A flag that indicates whether there are more items to return. If your results were truncated, you can make a subsequent pagination request using the Marker request parameter to retrieve more items. Note that IAM might return fewer than the MaxItems number of results even when there are more results available. We recommend that you check IsTruncated after every call to ensure that you receive all your results.",
          "nested_items": []
        },
        {
          "name": "Marker",
          "type": "string",
          "description": "When IsTruncated is true, this element is present and contains the value to use for the Marker parameter in a subsequent pagination request.",
          "nested_items": []
        },
        {
          "name": "",
          "type": "dict",
          "description": "",
          "nested_items": [
            {
              "name": "Message",
              "type": "string",
              "description": "Detailed information about the reason that the operation failed.",
              "nested_items": []
            },
            {
              "name": "Code",
              "type": "string",
              "description": "The error code associated with the operation failure.",
              "nested_items": []
            }
          ]
        }
      ]
    }
  ]
}
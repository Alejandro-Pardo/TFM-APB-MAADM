{
  "method_name": "get_flow",
  "url": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/bedrock-agent/client/get_flow.html",
  "description": "Retrieves information about a flow. For more information, see Manage a flow in Amazon Bedrock in the Amazon Bedrock User Guide.",
  "parameters": [
    {
      "name": "flowIdentifier",
      "type": "string",
      "required": true,
      "description": "The unique identifier of the flow.",
      "nested_params": []
    }
  ],
  "return_structure": [
    {
      "name": "",
      "type": "dict",
      "description": "",
      "nested_items": [
        {
          "name": "arn",
          "type": "string",
          "description": "The Amazon Resource Name (ARN) of the flow.",
          "nested_items": []
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "description": "The time at which the flow was created.",
          "nested_items": []
        },
        {
          "name": "customerEncryptionKeyArn",
          "type": "string",
          "description": "The Amazon Resource Name (ARN) of the KMS key that the flow is encrypted with.",
          "nested_items": []
        },
        {
          "name": "definition",
          "type": "dict",
          "description": "The definition of the nodes and connections between the nodes in the flow.",
          "nested_items": [
            {
              "name": "connections",
              "type": "list",
              "description": "An array of connection definitions in the flow.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "configuration",
                      "type": "dict",
                      "description": "The configuration of the connection.",
                      "nested_items": [
                        {
                          "name": "conditional",
                          "type": "dict",
                          "description": "The configuration of a connection originating from a Condition node.",
                          "nested_items": [
                            {
                              "name": "condition",
                              "type": "string",
                              "description": "The condition that triggers this connection. For more information about how to write conditions, see the Condition node type in the Node types topic in the Amazon Bedrock User Guide.",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "sourceOutput",
                              "type": "string",
                              "description": "The name of the output in the source node that the connection begins from.",
                              "nested_items": []
                            },
                            {
                              "name": "targetInput",
                              "type": "string",
                              "description": "The name of the input in the target node that the connection ends at.",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "name",
                      "type": "string",
                      "description": "A name for the connection that you can reference.",
                      "nested_items": []
                    },
                    {
                      "name": "source",
                      "type": "string",
                      "description": "The node that the connection starts at.",
                      "nested_items": []
                    },
                    {
                      "name": "target",
                      "type": "string",
                      "description": "The node that the connection ends at.",
                      "nested_items": []
                    },
                    {
                      "name": "type",
                      "type": "string",
                      "description": "Whether the source node that the connection begins from is a condition node ( Conditional) or not ( Data).",
                      "nested_items": []
                    }
                  ]
                }
              ]
            },
            {
              "name": "nodes",
              "type": "list",
              "description": "An array of node definitions in the flow.",
              "nested_items": [
                {
                  "name": "",
                  "type": "dict",
                  "description": "",
                  "nested_items": [
                    {
                      "name": "configuration",
                      "type": "dict",
                      "description": "Contains configurations for the node.",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "agentAliasArn",
                              "type": "string",
                              "description": "The Amazon Resource Name (ARN) of the alias of the agent to invoke.",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "collector",
                          "type": "dict",
                          "description": "Contains configurations for a collector node in your flow. Collects an iteration of inputs and consolidates them into an array of outputs.",
                          "nested_items": []
                        },
                        {
                          "name": "condition",
                          "type": "dict",
                          "description": "Contains configurations for a Condition node in your flow. Defines conditions that lead to different branches of the flow.",
                          "nested_items": [
                            {
                              "name": "conditions",
                              "type": "list",
                              "description": "An array of conditions. Each member contains the name of a condition and an expression that defines the condition.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "expression",
                                      "type": "string",
                                      "description": "Defines the condition. You must refer to at least one of the inputs in the condition. For more information, expand the Condition node section in Node types in prompt flows.",
                                      "nested_items": []
                                    },
                                    {
                                      "name": "name",
                                      "type": "string",
                                      "description": "A name for the condition that you can reference.",
                                      "nested_items": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "knowledgeBase",
                          "type": "dict",
                          "description": "Contains configurations for a knowledge base node in your flow. Queries a knowledge base and returns the retrieved results or generated response.",
                          "nested_items": [
                            {
                              "name": "guardrailConfiguration",
                              "type": "dict",
                              "description": "Contains configurations for a guardrail to apply during query and response generation for the knowledge base in this configuration.",
                              "nested_items": [
                                {
                                  "name": "guardrailIdentifier",
                                  "type": "string",
                                  "description": "The unique identifier of the guardrail.",
                                  "nested_items": []
                                },
                                {
                                  "name": "guardrailVersion",
                                  "type": "string",
                                  "description": "The version of the guardrail.",
                                  "nested_items": []
                                }
                              ]
                            },
                            {
                              "name": "knowledgeBaseId",
                              "type": "string",
                              "description": "The unique identifier of the knowledge base to query.",
                              "nested_items": []
                            },
                            {
                              "name": "modelId",
                              "type": "string",
                              "description": "The unique identifier of the model or inference profile to use to generate a response from the query results. Omit this field if you want to return the retrieved results as an array.",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "lambdaFunction",
                          "type": "dict",
                          "description": "Contains configurations for a Lambda function node in your flow. Invokes an Lambda function.",
                          "nested_items": [
                            {
                              "name": "lambdaArn",
                              "type": "string",
                              "description": "The Amazon Resource Name (ARN) of the Lambda function to invoke.",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "botAliasArn",
                              "type": "string",
                              "description": "The Amazon Resource Name (ARN) of the Amazon Lex bot alias to invoke.",
                              "nested_items": []
                            },
                            {
                              "name": "localeId",
                              "type": "string",
                              "description": "The Region to invoke the Amazon Lex bot in.",
                              "nested_items": []
                            }
                          ]
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": []
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "guardrailConfiguration",
                              "type": "dict",
                              "description": "Contains configurations for a guardrail to apply to the prompt in this node and the response generated from it.",
                              "nested_items": [
                                {
                                  "name": "guardrailIdentifier",
                                  "type": "string",
                                  "description": "The unique identifier of the guardrail.",
                                  "nested_items": []
                                },
                                {
                                  "name": "guardrailVersion",
                                  "type": "string",
                                  "description": "The version of the guardrail.",
                                  "nested_items": []
                                }
                              ]
                            },
                            {
                              "name": "sourceConfiguration",
                              "type": "dict",
                              "description": "Specifies whether the prompt is from Prompt management or defined inline.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "additionalModelRequestFields",
                                      "type": "document",
                                      "description": "Additional fields to be included in the model request for the Prompt node.",
                                      "nested_items": []
                                    },
                                    {
                                      "name": "inferenceConfiguration",
                                      "type": "dict",
                                      "description": "Contains inference configurations for the prompt.",
                                      "nested_items": [
                                        {
                                          "name": "",
                                          "type": "dict",
                                          "description": "",
                                          "nested_items": [
                                            {
                                              "name": "maxTokens",
                                              "type": "integer",
                                              "description": "The maximum number of tokens to return in the response.",
                                              "nested_items": []
                                            },
                                            {
                                              "name": "stopSequences",
                                              "type": "list",
                                              "description": "A list of strings that define sequences after which the model will stop generating.",
                                              "nested_items": [
                                                {
                                                  "name": "",
                                                  "type": "string",
                                                  "description": "(string) ---",
                                                  "nested_items": []
                                                }
                                              ]
                                            },
                                            {
                                              "name": "temperature",
                                              "type": "float",
                                              "description": "Controls the randomness of the response. Choose a lower value for more predictable outputs and a higher value for more surprising outputs.",
                                              "nested_items": []
                                            },
                                            {
                                              "name": "topP",
                                              "type": "float",
                                              "description": "The percentage of most-likely candidates that the model considers for the next token.",
                                              "nested_items": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "name": "modelId",
                                      "type": "string",
                                      "description": "The unique identifier of the model or inference profile to run inference with.",
                                      "nested_items": []
                                    },
                                    {
                                      "name": "templateConfiguration",
                                      "type": "dict",
                                      "description": "Contains a prompt and variables in the prompt that can be replaced with values at runtime.",
                                      "nested_items": [
                                        {
                                          "name": "",
                                          "type": "dict",
                                          "description": "",
                                          "nested_items": [
                                            {
                                              "name": "inputVariables",
                                              "type": "list",
                                              "description": "An array of the variables in the prompt template.",
                                              "nested_items": [
                                                {
                                                  "name": "",
                                                  "type": "dict",
                                                  "description": "",
                                                  "nested_items": [
                                                    {
                                                      "name": "name",
                                                      "type": "string",
                                                      "description": "The name of the variable.",
                                                      "nested_items": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "name": "messages",
                                              "type": "list",
                                              "description": "Contains messages in the chat for the prompt.",
                                              "nested_items": [
                                                {
                                                  "name": "",
                                                  "type": "dict",
                                                  "description": "",
                                                  "nested_items": [
                                                    {
                                                      "name": "content",
                                                      "type": "list",
                                                      "description": "The content in the message.",
                                                      "nested_items": [
                                                        {
                                                          "name": "",
                                                          "type": "dict",
                                                          "description": "",
                                                          "nested_items": [
                                                            {
                                                              "name": "cachePoint",
                                                              "type": "dict",
                                                              "description": "Creates a cache checkpoint within a message.",
                                                              "nested_items": [
                                                                {
                                                                  "name": "type",
                                                                  "type": "string",
                                                                  "description": "Indicates that the CachePointBlock is of the default type.",
                                                                  "nested_items": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "name": "text",
                                                              "type": "string",
                                                              "description": "The text in the message.",
                                                              "nested_items": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "name": "role",
                                                      "type": "string",
                                                      "description": "The role that the message belongs to.",
                                                      "nested_items": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "name": "system",
                                              "type": "list",
                                              "description": "Contains system prompts to provide context to the model or to describe how it should behave.",
                                              "nested_items": [
                                                {
                                                  "name": "",
                                                  "type": "dict",
                                                  "description": "",
                                                  "nested_items": [
                                                    {
                                                      "name": "cachePoint",
                                                      "type": "dict",
                                                      "description": "Creates a cache checkpoint within a tool designation.",
                                                      "nested_items": [
                                                        {
                                                          "name": "type",
                                                          "type": "string",
                                                          "description": "Indicates that the CachePointBlock is of the default type.",
                                                          "nested_items": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "name": "text",
                                                      "type": "string",
                                                      "description": "The text in the system prompt.",
                                                      "nested_items": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "name": "toolConfiguration",
                                              "type": "dict",
                                              "description": "Configuration information for the tools that the model can use when generating a response.",
                                              "nested_items": [
                                                {
                                                  "name": "toolChoice",
                                                  "type": "dict",
                                                  "description": "Defines which tools the model should request when invoked.",
                                                  "nested_items": [
                                                    {
                                                      "name": "",
                                                      "type": "dict",
                                                      "description": "",
                                                      "nested_items": []
                                                    },
                                                    {
                                                      "name": "",
                                                      "type": "dict",
                                                      "description": "",
                                                      "nested_items": []
                                                    },
                                                    {
                                                      "name": "",
                                                      "type": "dict",
                                                      "description": "",
                                                      "nested_items": [
                                                        {
                                                          "name": "name",
                                                          "type": "string",
                                                          "description": "The name of the tool.",
                                                          "nested_items": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                },
                                                {
                                                  "name": "tools",
                                                  "type": "list",
                                                  "description": "An array of tools to pass to a model.",
                                                  "nested_items": [
                                                    {
                                                      "name": "",
                                                      "type": "dict",
                                                      "description": "",
                                                      "nested_items": [
                                                        {
                                                          "name": "cachePoint",
                                                          "type": "dict",
                                                          "description": "Creates a cache checkpoint within a tool designation.",
                                                          "nested_items": [
                                                            {
                                                              "name": "type",
                                                              "type": "string",
                                                              "description": "Indicates that the CachePointBlock is of the default type.",
                                                              "nested_items": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "name": "",
                                                          "type": "dict",
                                                          "description": "",
                                                          "nested_items": [
                                                            {
                                                              "name": "description",
                                                              "type": "string",
                                                              "description": "The description of the tool.",
                                                              "nested_items": []
                                                            },
                                                            {
                                                              "name": "inputSchema",
                                                              "type": "dict",
                                                              "description": "The input schema for the tool.",
                                                              "nested_items": [
                                                                {
                                                                  "name": "json",
                                                                  "type": "document",
                                                                  "description": "A JSON object defining the input schema for the tool.",
                                                                  "nested_items": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "name": "name",
                                                              "type": "string",
                                                              "description": "The name of the tool.",
                                                              "nested_items": []
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "name": "",
                                          "type": "dict",
                                          "description": "",
                                          "nested_items": [
                                            {
                                              "name": "cachePoint",
                                              "type": "dict",
                                              "description": "A cache checkpoint within a template configuration.",
                                              "nested_items": [
                                                {
                                                  "name": "type",
                                                  "type": "string",
                                                  "description": "Indicates that the CachePointBlock is of the default type.",
                                                  "nested_items": []
                                                }
                                              ]
                                            },
                                            {
                                              "name": "inputVariables",
                                              "type": "list",
                                              "description": "An array of the variables in the prompt template.",
                                              "nested_items": [
                                                {
                                                  "name": "",
                                                  "type": "dict",
                                                  "description": "",
                                                  "nested_items": [
                                                    {
                                                      "name": "name",
                                                      "type": "string",
                                                      "description": "The name of the variable.",
                                                      "nested_items": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "name": "text",
                                              "type": "string",
                                              "description": "The message for the prompt.",
                                              "nested_items": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "name": "templateType",
                                      "type": "string",
                                      "description": "The type of prompt template.",
                                      "nested_items": []
                                    }
                                  ]
                                },
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "promptArn",
                                      "type": "string",
                                      "description": "The Amazon Resource Name (ARN) of the prompt from Prompt management.",
                                      "nested_items": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "retrieval",
                          "type": "dict",
                          "description": "Contains configurations for a Retrieval node in your flow. Retrieves data from an Amazon S3 location and returns it as the output.",
                          "nested_items": [
                            {
                              "name": "serviceConfiguration",
                              "type": "dict",
                              "description": "Contains configurations for the service to use for retrieving data to return as the output from the node.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "bucketName",
                                      "type": "string",
                                      "description": "The name of the Amazon S3 bucket from which to retrieve data.",
                                      "nested_items": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "serviceConfiguration",
                              "type": "dict",
                              "description": "Contains configurations for the service to use for storing the input into the node.",
                              "nested_items": [
                                {
                                  "name": "",
                                  "type": "dict",
                                  "description": "",
                                  "nested_items": [
                                    {
                                      "name": "bucketName",
                                      "type": "string",
                                      "description": "The name of the Amazon S3 bucket in which to store the input into the node.",
                                      "nested_items": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "inputs",
                      "type": "list",
                      "description": "An array of objects, each of which contains information about an input into the node.",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "expression",
                              "type": "string",
                              "description": "An expression that formats the input for the node. For an explanation of how to create expressions, see Expressions in Prompt flows in Amazon Bedrock.",
                              "nested_items": []
                            },
                            {
                              "name": "name",
                              "type": "string",
                              "description": "A name for the input that you can reference.",
                              "nested_items": []
                            },
                            {
                              "name": "type",
                              "type": "string",
                              "description": "The data type of the input. If the input doesn't match this type at runtime, a validation error will be thrown.",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "name",
                      "type": "string",
                      "description": "A name for the node.",
                      "nested_items": []
                    },
                    {
                      "name": "outputs",
                      "type": "list",
                      "description": "A list of objects, each of which contains information about an output from the node.",
                      "nested_items": [
                        {
                          "name": "",
                          "type": "dict",
                          "description": "",
                          "nested_items": [
                            {
                              "name": "name",
                              "type": "string",
                              "description": "A name for the output that you can reference.",
                              "nested_items": []
                            },
                            {
                              "name": "type",
                              "type": "string",
                              "description": "The data type of the output. If the output doesn't match this type at runtime, a validation error will be thrown.",
                              "nested_items": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "name": "type",
                      "type": "string",
                      "description": "The type of node. This value must match the name of the key that you provide in the configuration you provide in the FlowNodeConfiguration field.",
                      "nested_items": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "description",
          "type": "string",
          "description": "The description of the flow.",
          "nested_items": []
        },
        {
          "name": "executionRoleArn",
          "type": "string",
          "description": "The Amazon Resource Name (ARN) of the service role with permissions to create a flow. For more information, see Create a service row for flows in the Amazon Bedrock User Guide.",
          "nested_items": []
        },
        {
          "name": "id",
          "type": "string",
          "description": "The unique identifier of the flow.",
          "nested_items": []
        },
        {
          "name": "name",
          "type": "string",
          "description": "The name of the flow.",
          "nested_items": []
        },
        {
          "name": "status",
          "type": "string",
          "description": "The status of the flow. The following statuses are possible:",
          "nested_items": [
            {
              "name": "",
              "type": "",
              "description": "NotPrepared --- The flow has been created or updated, but hasn't been prepared. If you just created the flow, you can't test it. If you updated the flow, the DRAFT version won't contain the latest changes for testing. Send a PrepareFlow request to package the latest changes into the DRAFT version.",
              "nested_items": []
            },
            {
              "name": "",
              "type": "",
              "description": "Preparing --- The flow is being prepared so that the DRAFT version contains the latest changes for testing.",
              "nested_items": []
            },
            {
              "name": "",
              "type": "",
              "description": "Prepared --- The flow is prepared and the DRAFT version contains the latest changes for testing.",
              "nested_items": []
            },
            {
              "name": "",
              "type": "",
              "description": "Failed --- The last API operation that you invoked on the flow failed. Send a GetFlow request and check the error message in the validations field.",
              "nested_items": []
            }
          ]
        },
        {
          "name": "updatedAt",
          "type": "datetime",
          "description": "The time at which the flow was last updated.",
          "nested_items": []
        },
        {
          "name": "validations",
          "type": "list",
          "description": "A list of validation error messages related to the last failed operation on the flow.",
          "nested_items": [
            {
              "name": "",
              "type": "dict",
              "description": "",
              "nested_items": [
                {
                  "name": "",
                  "type": "",
                  "description": "GetFlow response.",
                  "nested_items": []
                },
                {
                  "name": "",
                  "type": "",
                  "description": "GetFlowVersion response.",
                  "nested_items": []
                }
              ]
            }
          ]
        },
        {
          "name": "version",
          "type": "string",
          "description": "The version of the flow for which information was retrieved.",
          "nested_items": []
        }
      ]
    }
  ]
}